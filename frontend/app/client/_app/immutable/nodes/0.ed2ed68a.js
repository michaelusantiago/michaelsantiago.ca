import{r as Es,u as Ft,s as je,f as p,g as v,h as E,d as h,j as u,k as re,v as ge,i as j,w as we,a as B,l as G,x as se,c as O,m as W,y as c,z as K,A as Xe,B as Qe,C as Ze,D as Ve,E as ht,o as ct,F as pt,n as pe,p as ye,G as ot,e as Se,H as Tt,I as Nt,J as Pt,K as Lt,L as Bt,M as Fe,N as be}from"../chunks/scheduler.22c66fb6.js";import{S as He,i as ze,a as z,g as De,t as X,c as Me,f as ft,h as ut,b as de,d as _e,m as me,e as he}from"../chunks/index.94eb7729.js";import{g as Cs}from"../chunks/globals.7f7f1b26.js";import{e as xe,a as ys,O as Ts,b as Ns,g as Ot,c as Ps,d as Ls,f as Ut,h as Dt}from"../chunks/Database.5f632785.js";import{t as Ct,c as mt,s as Ge,u as it,a as rt,b as wt,f as kt,p as Mt,d as yt,e as $s}from"../chunks/store.565d065b.js";import{d as Is}from"../chunks/singletons.b2371634.js";function As(l){const t=l-1;return t*t*t+1}function Ss(l,{delay:t=0,duration:e=400,easing:s=Es}={}){const a=+getComputedStyle(l).opacity;return{delay:t,duration:e,easing:s,css:i=>`opacity: ${i*a}`}}function Ke(l,{delay:t=0,duration:e=400,easing:s=As,x:a=0,y:i=0,opacity:o=0}={}){const n=getComputedStyle(l),r=+n.opacity,f=n.transform==="none"?"":n.transform,d=r*(1-o),[m,_]=Ft(a),[g,b]=Ft(i);return{delay:t,duration:e,easing:s,css:(w,L)=>`
			transform: ${f} translate(${(1-w)*m}${_}, ${(1-w)*g}${b});
			opacity: ${r-d*L}`}}function Fs(l){let t;return{c(){t=p("div"),this.h()},l(e){t=v(e,"DIV",{class:!0,style:!0}),E(t).forEach(h),this.h()},h(){u(t,"class","circle svelte-dqjlks"),re(t,"--size",l[3]+l[1]),re(t,"--color",l[0]),re(t,"--duration",l[2]),ge(t,"pause-animation",l[4])},m(e,s){j(e,t,s)},p(e,[s]){s&10&&re(t,"--size",e[3]+e[1]),s&1&&re(t,"--color",e[0]),s&4&&re(t,"--duration",e[2]),s&16&&ge(t,"pause-animation",e[4])},i:we,o:we,d(e){e&&h(t)}}}function Bs(l,t,e){let{color:s="#FF3E00"}=t,{unit:a="px"}=t,{duration:i="0.75s"}=t,{size:o="60"}=t,{pause:n=!1}=t;return l.$$set=r=>{"color"in r&&e(0,s=r.color),"unit"in r&&e(1,a=r.unit),"duration"in r&&e(2,i=r.duration),"size"in r&&e(3,o=r.size),"pause"in r&&e(4,n=r.pause)},[s,a,i,o,n]}class Je extends He{constructor(t){super(),ze(this,t,Bs,Fs,je,{color:0,unit:1,duration:2,size:3,pause:4})}}const{window:Os}=Cs;function jt(l){var a,i,o;let t,e=((o=(i=(a=l[2])==null?void 0:a.data)==null?void 0:i.identity)==null?void 0:o.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(n){t=v(n,"SPAN",{class:!0});var r=E(t);s=W(r,e),r.forEach(h),this.h()},h(){u(t,"class","error svelte-ck7r4a")},m(n,r){j(n,t,r),c(t,s)},p(n,r){var f,d,m;r&4&&e!==(e=((m=(d=(f=n[2])==null?void 0:f.data)==null?void 0:d.identity)==null?void 0:m.message)+"")&&pe(s,e)},d(n){n&&h(t)}}}function Vt(l){var a,i,o;let t,e=((o=(i=(a=l[2])==null?void 0:a.data)==null?void 0:i.password)==null?void 0:o.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(n){t=v(n,"SPAN",{class:!0});var r=E(t);s=W(r,e),r.forEach(h),this.h()},h(){u(t,"class","error svelte-ck7r4a")},m(n,r){j(n,t,r),c(t,s)},p(n,r){var f,d,m;r&4&&e!==(e=((m=(d=(f=n[2])==null?void 0:f.data)==null?void 0:d.password)==null?void 0:m.message)+"")&&pe(s,e)},d(n){n&&h(t)}}}function Ht(l){var n;let t,e,s,a,i=((n=l[2])==null?void 0:n.message)+"",o;return{c(){t=p("div"),e=p("i"),s=B(),a=p("span"),o=G(i),this.h()},l(r){t=v(r,"DIV",{class:!0});var f=E(t);e=v(f,"I",{class:!0}),E(e).forEach(h),s=O(f),a=v(f,"SPAN",{});var d=E(a);o=W(d,i),d.forEach(h),f.forEach(h),this.h()},h(){u(e,"class","ri-error-warning-line"),u(t,"class","error-box svelte-ck7r4a")},m(r,f){j(r,t,f),c(t,e),c(t,s),c(t,a),c(a,o)},p(r,f){var d;f&4&&i!==(i=((d=r[2])==null?void 0:d.message)+"")&&pe(o,i)},d(r){r&&h(t)}}}function zt(l){let t,e;return t=new Je({props:{size:"15",color:"#FFF",unit:"px",duration:"1s"}}),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function Us(l){var ee,ve,ue,te,oe,ie,qe,Re;let t,e,s,a,i="Log In",o,n,r,f,d,m,_,g,b,w,L,P,$,I,q,S,F="Log In",N,C,D,R="Cancel",k,T,y="Forgot password?",A,M,Y,le,Z,H=((ve=(ee=l[2])==null?void 0:ee.data)==null?void 0:ve.identity)&&jt(l),V=((te=(ue=l[2])==null?void 0:ue.data)==null?void 0:te.password)&&Vt(l),U=l[2]&&!((ie=(oe=l[2])==null?void 0:oe.data)!=null&&ie.identity||(Re=(qe=l[2])==null?void 0:qe.data)!=null&&Re.password)&&Ht(l),Q=l[4]&&zt();return{c(){t=p("main"),e=p("div"),s=p("form"),a=p("h1"),a.textContent=i,o=B(),n=p("label"),r=G(`Email\r
                `),f=p("input"),d=B(),H&&H.c(),m=B(),_=p("label"),g=G(`Password\r
                `),b=p("input"),w=B(),V&&V.c(),L=B(),U&&U.c(),P=B(),$=p("div"),I=p("div"),q=p("button"),S=p("span"),S.textContent=F,N=B(),Q&&Q.c(),C=B(),D=p("button"),D.textContent=R,k=B(),T=p("button"),T.textContent=y,this.h()},l(J){t=v(J,"MAIN",{});var x=E(t);e=v(x,"DIV",{id:!0,tabindex:!0,role:!0,class:!0});var ce=E(e);s=v(ce,"FORM",{class:!0,method:!0,action:!0});var ne=E(s);a=v(ne,"H1",{class:!0,"data-svelte-h":!0}),se(a)!=="svelte-mnarx5"&&(a.textContent=i),o=O(ne),n=v(ne,"LABEL",{class:!0});var Ee=E(n);r=W(Ee,`Email\r
                `),f=v(Ee,"INPUT",{name:!0,type:!0,class:!0}),d=O(Ee),H&&H.l(Ee),Ee.forEach(h),m=O(ne),_=v(ne,"LABEL",{class:!0});var fe=E(_);g=W(fe,`Password\r
                `),b=v(fe,"INPUT",{name:!0,type:!0,class:!0}),w=O(fe),V&&V.l(fe),fe.forEach(h),L=O(ne),U&&U.l(ne),P=O(ne),$=v(ne,"DIV",{class:!0});var Be=E($);I=v(Be,"DIV",{class:!0});var Ce=E(I);q=v(Ce,"BUTTON",{type:!0,class:!0});var Te=E(q);S=v(Te,"SPAN",{"data-svelte-h":!0}),se(S)!=="svelte-m3t7dv"&&(S.textContent=F),N=O(Te),Q&&Q.l(Te),Te.forEach(h),C=O(Ce),D=v(Ce,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),se(D)!=="svelte-p542xn"&&(D.textContent=R),Ce.forEach(h),k=O(Be),T=v(Be,"BUTTON",{class:!0,"data-svelte-h":!0}),se(T)!=="svelte-d1odah"&&(T.textContent=y),Be.forEach(h),ne.forEach(h),ce.forEach(h),x.forEach(h),this.h()},h(){u(a,"class","head-title svelte-ck7r4a"),u(f,"name","email"),u(f,"type","email"),u(f,"class","svelte-ck7r4a"),u(n,"class","svelte-ck7r4a"),u(b,"name","password"),u(b,"type","password"),u(b,"class","svelte-ck7r4a"),u(_,"class","svelte-ck7r4a"),q.disabled=l[4],u(q,"type","submit"),u(q,"class","svelte-ck7r4a"),u(D,"type","reset"),u(D,"class","svelte-ck7r4a"),u(I,"class","action-btns-group svelte-ck7r4a"),u(T,"class","forgot-password svelte-ck7r4a"),u($,"class","action-btns-wrapper svelte-ck7r4a"),u(s,"class","inner-window svelte-ck7r4a"),u(s,"method","POST"),u(s,"action","/?/log_in"),u(e,"id","window-frame"),u(e,"tabindex","0"),u(e,"role","button"),u(e,"class","svelte-ck7r4a")},m(J,x){j(J,t,x),c(t,e),c(e,s),c(s,a),c(s,o),c(s,n),c(n,r),c(n,f),l[9](f),c(n,d),H&&H.m(n,null),c(s,m),c(s,_),c(_,g),c(_,b),l[10](b),c(_,w),V&&V.m(_,null),c(s,L),U&&U.m(s,null),c(s,P),c(s,$),c($,I),c(I,q),c(q,S),c(q,N),Q&&Q.m(q,null),c(I,C),c(I,D),c($,k),c($,T),l[13](e),Y=!0,le||(Z=[K(Os,"keydown",l[8]),K(D,"click",Xe(l[11])),K(T,"click",l[12]),Qe(xe.call(null,s,l[6])),K(e,"click",Xe(l[7])),K(e,"keydown",Ds)],le=!0)},p(J,[x]){var ce,ne,Ee,fe,Be,Ce,Te,Oe;(ne=(ce=J[2])==null?void 0:ce.data)!=null&&ne.identity?H?H.p(J,x):(H=jt(J),H.c(),H.m(n,null)):H&&(H.d(1),H=null),(fe=(Ee=J[2])==null?void 0:Ee.data)!=null&&fe.password?V?V.p(J,x):(V=Vt(J),V.c(),V.m(_,null)):V&&(V.d(1),V=null),J[2]&&!((Ce=(Be=J[2])==null?void 0:Be.data)!=null&&Ce.identity||(Oe=(Te=J[2])==null?void 0:Te.data)!=null&&Oe.password)?U?U.p(J,x):(U=Ht(J),U.c(),U.m(s,P)):U&&(U.d(1),U=null),J[4]?Q?x&16&&z(Q,1):(Q=zt(),Q.c(),z(Q,1),Q.m(q,null)):Q&&(De(),X(Q,1,1,()=>{Q=null}),Me()),(!Y||x&16)&&(q.disabled=J[4])},i(J){Y||(z(Q),J&&Ze(()=>{Y&&(M&&M.end(1),A=ft(s,Ke,{x:22,duration:300}),A.start())}),Y=!0)},o(J){X(Q),A&&A.invalidate(),J&&(M=ut(s,Ke,{x:82,duration:200})),Y=!1},d(J){J&&h(t),l[9](null),H&&H.d(),l[10](null),V&&V.d(),U&&U.d(),Q&&Q.d(),J&&M&&M.end(),l[13](null),le=!1,Ve(Z)}}}const Ds=()=>{};function Ms(l,t,e){const s=ht();let a,i,o,n=!1,r=null;ct(()=>i.focus());const f=async()=>(e(4,n=!0),async({result:$})=>{await ys($);const I=$;I.data.success?(s("close"),window.location.reload()):(e(2,r=I.data.message),e(4,n=!1))}),d=$=>{$.target.closest("#window-frame")&&s("close")},m=$=>{if($.key==="Escape"){s("close");return}if($.key==="Tab"){const I=a.querySelectorAll("*"),q=Array.from(I).filter(F=>F.tabIndex>=0&&!F.hidden);let S=q.indexOf(document.activeElement);S===-1&&$.shiftKey&&(S=0),S+=q.length+($.shiftKey?-1:1),S%=q.length,q[S].focus(),$.preventDefault()}},_=typeof document<"u"&&document.activeElement;_&&pt(()=>{_.focus()});function g($){ye[$?"unshift":"push"](()=>{i=$,e(0,i)})}function b($){ye[$?"unshift":"push"](()=>{o=$,e(1,o)})}const w=()=>s("close"),L=()=>s("close",{password_reset:!0});function P($){ye[$?"unshift":"push"](()=>{a=$,e(3,a)})}return l.$$.update=()=>{l.$$.dirty&7&&(r!=null&&r.data.identity?i.focus():r!=null&&r.data.password?o.focus():i&&i.focus())},[i,o,r,a,n,s,f,d,m,g,b,w,L,P]}class js extends He{constructor(t){super(),ze(this,t,Ms,Us,je,{})}}function qt(l){var s,a,i,o;let t,e=((o=(i=(a=(s=l[6])==null?void 0:s.message)==null?void 0:a.data)==null?void 0:i.email)==null?void 0:o.message)&&Rt(l);return{c(){e&&e.c(),t=Se()},l(n){e&&e.l(n),t=Se()},m(n,r){e&&e.m(n,r),j(n,t,r)},p(n,r){var f,d,m,_;(_=(m=(d=(f=n[6])==null?void 0:f.message)==null?void 0:d.data)==null?void 0:m.email)!=null&&_.message?e?e.p(n,r):(e=Rt(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(n){n&&h(t),e&&e.d(n)}}}function Rt(l){var a,i,o,n;let t,e=((n=(o=(i=(a=l[6])==null?void 0:a.message)==null?void 0:i.data)==null?void 0:o.email)==null?void 0:n.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(r){t=v(r,"SPAN",{class:!0});var f=E(t);s=W(f,e),f.forEach(h),this.h()},h(){u(t,"class","error svelte-wn22wo")},m(r,f){j(r,t,f),c(t,s)},p(r,f){var d,m,_,g;f&64&&e!==(e=((g=(_=(m=(d=r[6])==null?void 0:d.message)==null?void 0:m.data)==null?void 0:_.email)==null?void 0:g.message)+"")&&pe(s,e)},d(r){r&&h(t)}}}function Kt(l){var s,a,i,o;let t,e=((o=(i=(a=(s=l[6])==null?void 0:s.message)==null?void 0:a.data)==null?void 0:i.password)==null?void 0:o.message)&&Gt(l);return{c(){e&&e.c(),t=Se()},l(n){e&&e.l(n),t=Se()},m(n,r){e&&e.m(n,r),j(n,t,r)},p(n,r){var f,d,m,_;(_=(m=(d=(f=n[6])==null?void 0:f.message)==null?void 0:d.data)==null?void 0:m.password)!=null&&_.message?e?e.p(n,r):(e=Gt(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(n){n&&h(t),e&&e.d(n)}}}function Gt(l){var a,i,o,n;let t,e=((n=(o=(i=(a=l[6])==null?void 0:a.message)==null?void 0:i.data)==null?void 0:o.password)==null?void 0:n.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(r){t=v(r,"SPAN",{class:!0});var f=E(t);s=W(f,e),f.forEach(h),this.h()},h(){u(t,"class","error svelte-wn22wo")},m(r,f){j(r,t,f),c(t,s)},p(r,f){var d,m,_,g;f&64&&e!==(e=((g=(_=(m=(d=r[6])==null?void 0:d.message)==null?void 0:m.data)==null?void 0:_.password)==null?void 0:g.message)+"")&&pe(s,e)},d(r){r&&h(t)}}}function Wt(l){var s,a,i,o;let t,e=((o=(i=(a=(s=l[6])==null?void 0:s.message)==null?void 0:a.data)==null?void 0:i.passwordConfirm)==null?void 0:o.message)&&Jt(l);return{c(){e&&e.c(),t=Se()},l(n){e&&e.l(n),t=Se()},m(n,r){e&&e.m(n,r),j(n,t,r)},p(n,r){var f,d,m,_;(_=(m=(d=(f=n[6])==null?void 0:f.message)==null?void 0:d.data)==null?void 0:m.passwordConfirm)!=null&&_.message?e?e.p(n,r):(e=Jt(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(n){n&&h(t),e&&e.d(n)}}}function Jt(l){var a,i,o,n;let t,e=((n=(o=(i=(a=l[6])==null?void 0:a.message)==null?void 0:i.data)==null?void 0:o.passwordConfirm)==null?void 0:n.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(r){t=v(r,"SPAN",{class:!0});var f=E(t);s=W(f,e),f.forEach(h),this.h()},h(){u(t,"class","error svelte-wn22wo")},m(r,f){j(r,t,f),c(t,s)},p(r,f){var d,m,_,g;f&64&&e!==(e=((g=(_=(m=(d=r[6])==null?void 0:d.message)==null?void 0:m.data)==null?void 0:_.passwordConfirm)==null?void 0:g.message)+"")&&pe(s,e)},d(r){r&&h(t)}}}function Yt(l){var s,a,i,o;let t,e=((o=(i=(a=(s=l[6])==null?void 0:s.message)==null?void 0:a.data)==null?void 0:i.first_name)==null?void 0:o.message)&&Xt(l);return{c(){e&&e.c(),t=Se()},l(n){e&&e.l(n),t=Se()},m(n,r){e&&e.m(n,r),j(n,t,r)},p(n,r){var f,d,m,_;(_=(m=(d=(f=n[6])==null?void 0:f.message)==null?void 0:d.data)==null?void 0:m.first_name)!=null&&_.message?e?e.p(n,r):(e=Xt(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(n){n&&h(t),e&&e.d(n)}}}function Xt(l){var a,i,o,n;let t,e=((n=(o=(i=(a=l[6])==null?void 0:a.message)==null?void 0:i.data)==null?void 0:o.first_name)==null?void 0:n.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(r){t=v(r,"SPAN",{class:!0});var f=E(t);s=W(f,e),f.forEach(h),this.h()},h(){u(t,"class","error svelte-wn22wo")},m(r,f){j(r,t,f),c(t,s)},p(r,f){var d,m,_,g;f&64&&e!==(e=((g=(_=(m=(d=r[6])==null?void 0:d.message)==null?void 0:m.data)==null?void 0:_.first_name)==null?void 0:g.message)+"")&&pe(s,e)},d(r){r&&h(t)}}}function Qt(l){var s,a,i,o;let t,e=((o=(i=(a=(s=l[6])==null?void 0:s.message)==null?void 0:a.data)==null?void 0:i.last_name)==null?void 0:o.message)&&Zt(l);return{c(){e&&e.c(),t=Se()},l(n){e&&e.l(n),t=Se()},m(n,r){e&&e.m(n,r),j(n,t,r)},p(n,r){var f,d,m,_;(_=(m=(d=(f=n[6])==null?void 0:f.message)==null?void 0:d.data)==null?void 0:m.last_name)!=null&&_.message?e?e.p(n,r):(e=Zt(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(n){n&&h(t),e&&e.d(n)}}}function Zt(l){var a,i,o,n;let t,e=((n=(o=(i=(a=l[6])==null?void 0:a.message)==null?void 0:i.data)==null?void 0:o.last_name)==null?void 0:n.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(r){t=v(r,"SPAN",{class:!0});var f=E(t);s=W(f,e),f.forEach(h),this.h()},h(){u(t,"class","error svelte-wn22wo")},m(r,f){j(r,t,f),c(t,s)},p(r,f){var d,m,_,g;f&64&&e!==(e=((g=(_=(m=(d=r[6])==null?void 0:d.message)==null?void 0:m.data)==null?void 0:_.last_name)==null?void 0:g.message)+"")&&pe(s,e)},d(r){r&&h(t)}}}function xt(l){var s,a,i,o;let t,e=((o=(i=(a=(s=l[6])==null?void 0:s.message)==null?void 0:a.data)==null?void 0:i.birth_date)==null?void 0:o.message)&&es(l);return{c(){e&&e.c(),t=Se()},l(n){e&&e.l(n),t=Se()},m(n,r){e&&e.m(n,r),j(n,t,r)},p(n,r){var f,d,m,_;(_=(m=(d=(f=n[6])==null?void 0:f.message)==null?void 0:d.data)==null?void 0:m.birth_date)!=null&&_.message?e?e.p(n,r):(e=es(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(n){n&&h(t),e&&e.d(n)}}}function es(l){var a,i,o,n;let t,e=((n=(o=(i=(a=l[6])==null?void 0:a.message)==null?void 0:i.data)==null?void 0:o.birth_date)==null?void 0:n.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(r){t=v(r,"SPAN",{class:!0});var f=E(t);s=W(f,e),f.forEach(h),this.h()},h(){u(t,"class","error svelte-wn22wo")},m(r,f){j(r,t,f),c(t,s)},p(r,f){var d,m,_,g;f&64&&e!==(e=((g=(_=(m=(d=r[6])==null?void 0:d.message)==null?void 0:m.data)==null?void 0:_.birth_date)==null?void 0:g.message)+"")&&pe(s,e)},d(r){r&&h(t)}}}function Vs(l){let t,e="Sign Up";return{c(){t=p("button"),t.textContent=e,this.h()},l(s){t=v(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),se(t)!=="svelte-1mmlurd"&&(t.textContent=e),this.h()},h(){u(t,"type","submit"),u(t,"class","svelte-wn22wo")},m(s,a){j(s,t,a)},i:we,o:we,d(s){s&&h(t)}}}function Hs(l){let t,e,s="Signing Up",a,i,o;return i=new Je({props:{size:"15",color:"#FFF",unit:"px",duration:"1s"}}),{c(){t=p("button"),e=p("span"),e.textContent=s,a=B(),de(i.$$.fragment),this.h()},l(n){t=v(n,"BUTTON",{type:!0,class:!0});var r=E(t);e=v(r,"SPAN",{"data-svelte-h":!0}),se(e)!=="svelte-1dg5wgm"&&(e.textContent=s),a=O(r),_e(i.$$.fragment,r),r.forEach(h),this.h()},h(){u(t,"type","submit"),u(t,"class","svelte-wn22wo")},m(n,r){j(n,t,r),c(t,e),c(t,a),me(i,t,null),o=!0},i(n){o||(z(i.$$.fragment,n),o=!0)},o(n){X(i.$$.fragment,n),o=!1},d(n){n&&h(t),he(i)}}}function zs(l){let t,e,s,a,i="Sign Up",o,n,r,f,d,m,_,g,b,w,L,P,$,I,q,S,F,N,C,D,R,k,T,y,A,M,Y,le,Z,H,V="Masculine",U,Q="Feminine",ee,ve="",ue,te,oe,ie,qe,Re,J,x,ce,ne,Ee,fe,Be="Cancel",Ce,Te,Oe,bt,$t,Ne=l[6]&&qt(l),Pe=l[6]&&Kt(l),Le=l[6]&&Wt(l),$e=l[6]&&Yt(l),Ie=l[6]&&Qt(l),Ae=l[6]&&xt(l);const It=[Hs,Vs],We=[];function At(ae,Ue){return ae[7]?0:1}return ce=At(l),ne=We[ce]=It[ce](l),{c(){t=p("main"),e=p("div"),s=p("form"),a=p("h1"),a.textContent=i,o=B(),n=p("label"),r=G(`Email\r
                `),f=p("input"),d=B(),Ne&&Ne.c(),m=B(),_=p("label"),g=G(`Password\r
                `),b=p("input"),w=B(),Pe&&Pe.c(),L=B(),P=p("label"),$=G(`Confirm Password\r
                `),I=p("input"),q=B(),Le&&Le.c(),S=B(),F=p("label"),N=G(`First Name\r
                `),C=p("input"),D=B(),$e&&$e.c(),R=B(),k=p("label"),T=G(`Last Name\r
                `),y=p("input"),A=B(),Ie&&Ie.c(),M=B(),Y=p("label"),le=G(`Gender\r
                `),Z=p("select"),H=p("option"),H.textContent=V,U=p("option"),U.textContent=Q,ee=p("select"),ee.innerHTML=ve,ue=B(),te=p("label"),oe=G(`Birth Date\r
                `),ie=p("input"),qe=B(),Ae&&Ae.c(),Re=B(),J=p("div"),x=p("div"),ne.c(),Ee=B(),fe=p("button"),fe.textContent=Be,this.h()},l(ae){t=v(ae,"MAIN",{});var Ue=E(t);e=v(Ue,"DIV",{id:!0,tabindex:!0,role:!0,class:!0});var Ye=E(e);s=v(Ye,"FORM",{class:!0,method:!0,action:!0});var ke=E(s);a=v(ke,"H1",{class:!0,"data-svelte-h":!0}),se(a)!=="svelte-1mqfn3m"&&(a.textContent=i),o=O(ke),n=v(ke,"LABEL",{class:!0});var et=E(n);r=W(et,`Email\r
                `),f=v(et,"INPUT",{name:!0,type:!0,class:!0}),d=O(et),Ne&&Ne.l(et),et.forEach(h),m=O(ke),_=v(ke,"LABEL",{class:!0});var tt=E(_);g=W(tt,`Password\r
                `),b=v(tt,"INPUT",{name:!0,type:!0,class:!0}),w=O(tt),Pe&&Pe.l(tt),tt.forEach(h),L=O(ke),P=v(ke,"LABEL",{class:!0});var st=E(P);$=W(st,`Confirm Password\r
                `),I=v(st,"INPUT",{name:!0,type:!0,class:!0}),q=O(st),Le&&Le.l(st),st.forEach(h),S=O(ke),F=v(ke,"LABEL",{class:!0});var lt=E(F);N=W(lt,`First Name\r
                `),C=v(lt,"INPUT",{name:!0,type:!0,class:!0}),D=O(lt),$e&&$e.l(lt),lt.forEach(h),R=O(ke),k=v(ke,"LABEL",{class:!0});var nt=E(k);T=W(nt,`Last Name\r
                `),y=v(nt,"INPUT",{name:!0,type:!0,class:!0}),A=O(nt),Ie&&Ie.l(nt),nt.forEach(h),M=O(ke),Y=v(ke,"LABEL",{class:!0});var gt=E(Y);le=W(gt,`Gender\r
                `),Z=v(gt,"SELECT",{name:!0,class:!0});var dt=E(Z);H=v(dt,"OPTION",{"data-svelte-h":!0}),se(H)!=="svelte-7d9iu9"&&(H.textContent=V),U=v(dt,"OPTION",{"data-svelte-h":!0}),se(U)!=="svelte-ol63aj"&&(U.textContent=Q),ee=v(dt,"SELECT",{class:!0,"data-svelte-h":!0}),se(ee)!=="svelte-18rshy3"&&(ee.innerHTML=ve),dt.forEach(h),gt.forEach(h),ue=O(ke),te=v(ke,"LABEL",{class:!0});var at=E(te);oe=W(at,`Birth Date\r
                `),ie=v(at,"INPUT",{id:!0,name:!0,type:!0,class:!0}),qe=O(at),Ae&&Ae.l(at),at.forEach(h),Re=O(ke),J=v(ke,"DIV",{class:!0});var St=E(J);x=v(St,"DIV",{class:!0});var _t=E(x);ne.l(_t),Ee=O(_t),fe=v(_t,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),se(fe)!=="svelte-125q7y9"&&(fe.textContent=Be),_t.forEach(h),St.forEach(h),ke.forEach(h),Ye.forEach(h),Ue.forEach(h),this.h()},h(){u(a,"class","head-title svelte-wn22wo"),u(f,"name","email"),u(f,"type","email"),u(f,"class","svelte-wn22wo"),u(n,"class","svelte-wn22wo"),u(b,"name","password"),u(b,"type","password"),u(b,"class","svelte-wn22wo"),u(_,"class","svelte-wn22wo"),u(I,"name","passwordConfirm"),u(I,"type","password"),u(I,"class","svelte-wn22wo"),u(P,"class","svelte-wn22wo"),u(C,"name","first_name"),u(C,"type","text"),u(C,"class","svelte-wn22wo"),u(F,"class","svelte-wn22wo"),u(y,"name","last_name"),u(y,"type","text"),u(y,"class","svelte-wn22wo"),u(k,"class","svelte-wn22wo"),H.__value="Masculine",ot(H,H.__value),U.__value="Feminine",ot(U,U.__value),u(ee,"class","svelte-wn22wo"),u(Z,"name","gender"),u(Z,"class","svelte-wn22wo"),u(Y,"class","svelte-wn22wo"),u(ie,"id","birth_date"),u(ie,"name","birth_date"),u(ie,"type","date"),u(ie,"class","svelte-wn22wo"),u(te,"class","svelte-wn22wo"),u(fe,"type","reset"),u(fe,"class","svelte-wn22wo"),u(x,"class","action-btns-group svelte-wn22wo"),u(J,"class","action-btns-wrapper svelte-wn22wo"),u(s,"class","inner-window svelte-wn22wo"),u(s,"method","POST"),u(s,"action","/?/sign_up"),u(e,"id","window-frame"),u(e,"tabindex","0"),u(e,"role","button"),u(e,"class","svelte-wn22wo")},m(ae,Ue){j(ae,t,Ue),c(t,e),c(e,s),c(s,a),c(s,o),c(s,n),c(n,r),c(n,f),l[14](f),c(n,d),Ne&&Ne.m(n,null),c(s,m),c(s,_),c(_,g),c(_,b),l[15](b),c(_,w),Pe&&Pe.m(_,null),c(s,L),c(s,P),c(P,$),c(P,I),l[16](I),c(P,q),Le&&Le.m(P,null),c(s,S),c(s,F),c(F,N),c(F,C),l[17](C),c(F,D),$e&&$e.m(F,null),c(s,R),c(s,k),c(k,T),c(k,y),l[18](y),c(k,A),Ie&&Ie.m(k,null),c(s,M),c(s,Y),c(Y,le),c(Y,Z),c(Z,H),c(Z,U),c(Z,ee),c(s,ue),c(s,te),c(te,oe),c(te,ie),l[19](ie),c(te,qe),Ae&&Ae.m(te,null),c(s,Re),c(s,J),c(J,x),We[ce].m(x,null),c(x,Ee),c(x,fe),l[21](e),Oe=!0,bt||($t=[K(window,"keydown",l[12]),K(f,"change",l[13]),K(b,"change",l[13]),K(I,"change",l[13]),K(C,"change",l[13]),K(y,"change",l[13]),K(Z,"change",l[13]),K(ie,"change",l[13]),K(fe,"click",Xe(l[20])),Qe(xe.call(null,s,l[10])),K(e,"click",Xe(l[11])),K(e,"keydown",qs)],bt=!0)},p(ae,[Ue]){ae[6]?Ne?Ne.p(ae,Ue):(Ne=qt(ae),Ne.c(),Ne.m(n,null)):Ne&&(Ne.d(1),Ne=null),ae[6]?Pe?Pe.p(ae,Ue):(Pe=Kt(ae),Pe.c(),Pe.m(_,null)):Pe&&(Pe.d(1),Pe=null),ae[6]?Le?Le.p(ae,Ue):(Le=Wt(ae),Le.c(),Le.m(P,null)):Le&&(Le.d(1),Le=null),ae[6]?$e?$e.p(ae,Ue):($e=Yt(ae),$e.c(),$e.m(F,null)):$e&&($e.d(1),$e=null),ae[6]?Ie?Ie.p(ae,Ue):(Ie=Qt(ae),Ie.c(),Ie.m(k,null)):Ie&&(Ie.d(1),Ie=null),ae[6]?Ae?Ae.p(ae,Ue):(Ae=xt(ae),Ae.c(),Ae.m(te,null)):Ae&&(Ae.d(1),Ae=null);let Ye=ce;ce=At(ae),ce!==Ye&&(De(),X(We[Ye],1,1,()=>{We[Ye]=null}),Me(),ne=We[ce],ne||(ne=We[ce]=It[ce](ae),ne.c()),z(ne,1),ne.m(x,Ee))},i(ae){Oe||(z(ne),ae&&Ze(()=>{Oe&&(Te&&Te.end(1),Ce=ft(s,Ke,{x:22,duration:300}),Ce.start())}),Oe=!0)},o(ae){X(ne),Ce&&Ce.invalidate(),ae&&(Te=ut(s,Ke,{x:82,duration:200})),Oe=!1},d(ae){ae&&h(t),l[14](null),Ne&&Ne.d(),l[15](null),Pe&&Pe.d(),l[16](null),Le&&Le.d(),l[17](null),$e&&$e.d(),l[18](null),Ie&&Ie.d(),l[19](null),Ae&&Ae.d(),We[ce].d(),ae&&Te&&Te.end(),l[21](null),bt=!1,Ve($t)}}}const qs=()=>{};function Rs(l,t,e){const s=ht();let a=!1,i,o,n,r,f,d,m,_,g;ct(()=>{o.focus()});const b=async()=>(e(7,a=!0),async({result:k,update:T})=>{var y;e(7,a=!1),_=k,(y=_==null?void 0:_.data)!=null&&y.success?(await ys(k),T(),s("close",{success:!0})):(e(6,g=_==null?void 0:_.data),e(7,a=!1))}),w=k=>{k.target.closest("#window-frame")&&s("close")},L=k=>{if(k.key==="Escape"){s("close");return}if(k.key==="Tab"){const T=i.querySelectorAll("*"),y=Array.from(T).filter(M=>M.tabIndex>=0&&!M.hidden);let A=y.indexOf(document.activeElement);A===-1&&k.shiftKey&&(A=0),A+=y.length+(k.shiftKey?-1:1),A%=y.length,y[A].focus(),k.preventDefault()}},P=typeof document<"u"&&document.activeElement;P&&pt(()=>{P.focus()});const $=async k=>{};function I(k){ye[k?"unshift":"push"](()=>{o=k,e(0,o)})}function q(k){ye[k?"unshift":"push"](()=>{n=k,e(1,n)})}function S(k){ye[k?"unshift":"push"](()=>{r=k,e(2,r)})}function F(k){ye[k?"unshift":"push"](()=>{f=k,e(3,f)})}function N(k){ye[k?"unshift":"push"](()=>{d=k,e(4,d)})}function C(k){ye[k?"unshift":"push"](()=>{m=k,e(5,m)})}const D=()=>s("close");function R(k){ye[k?"unshift":"push"](()=>{i=k,e(8,i)})}return l.$$.update=()=>{var k,T,y,A,M,Y,le,Z,H,V,U,Q;l.$$.dirty&127&&((T=(k=g==null?void 0:g.message)==null?void 0:k.data)!=null&&T.email?o.focus():(A=(y=g==null?void 0:g.message)==null?void 0:y.data)!=null&&A.password?n.focus():(Y=(M=g==null?void 0:g.message)==null?void 0:M.data)!=null&&Y.passwordConfirm?r.focus():(Z=(le=g==null?void 0:g.message)==null?void 0:le.data)!=null&&Z.first_name?f.focus():(V=(H=g==null?void 0:g.message)==null?void 0:H.data)!=null&&V.last_name?d.focus():(Q=(U=g==null?void 0:g.message)==null?void 0:U.data)!=null&&Q.birth_date&&m.focus())},[o,n,r,f,d,m,g,a,i,s,b,w,L,$,I,q,S,F,N,C,D,R]}class Ks extends He{constructor(t){super(),ze(this,t,Rs,zs,je,{})}}function Gs(l){let t,e,s,a,i,o,n,r='<div class="greater-arrow svelte-1pjxtji"></div>',f,d,m,_,g;const b=l[3].default,w=Tt(b,l,l[2],null);return{c(){t=p("main"),e=p("label"),s=p("input"),a=B(),i=G(l[1]),o=B(),n=p("span"),n.innerHTML=r,f=B(),d=p("div"),w&&w.c(),this.h()},l(L){t=v(L,"MAIN",{class:!0});var P=E(t);e=v(P,"LABEL",{class:!0});var $=E(e);s=v($,"INPUT",{type:!0,class:!0}),a=O($),i=W($,l[1]),o=O($),n=v($,"SPAN",{class:!0,"data-svelte-h":!0}),se(n)!=="svelte-j2mdvy"&&(n.innerHTML=r),$.forEach(h),f=O(P),d=v(P,"DIV",{class:!0});var I=E(d);w&&w.l(I),I.forEach(h),P.forEach(h),this.h()},h(){u(s,"type","checkbox"),u(s,"class","svelte-1pjxtji"),u(n,"class","svelte-1pjxtji"),u(e,"class","header svelte-1pjxtji"),ge(e,"header-br",!l[0]),u(d,"class","container svelte-1pjxtji"),ge(d,"hide-container",!l[0]),u(t,"class","svelte-1pjxtji")},m(L,P){j(L,t,P),c(t,e),c(e,s),s.checked=l[0],c(e,a),c(e,i),c(e,o),c(e,n),c(t,f),c(t,d),w&&w.m(d,null),m=!0,_||(g=K(s,"change",l[4]),_=!0)},p(L,[P]){P&1&&(s.checked=L[0]),(!m||P&2)&&pe(i,L[1]),(!m||P&1)&&ge(e,"header-br",!L[0]),w&&w.p&&(!m||P&4)&&Nt(w,b,L,L[2],m?Lt(b,L[2],P,null):Pt(L[2]),null),(!m||P&1)&&ge(d,"hide-container",!L[0])},i(L){m||(z(w,L),m=!0)},o(L){X(w,L),m=!1},d(L){L&&h(t),w&&w.d(L),_=!1,g()}}}function Ws(l,t,e){let{$$slots:s={},$$scope:a}=t,{header_title:i}=t,{open:o=!1}=t;function n(){o=this.checked,e(0,o)}return l.$$set=r=>{"header_title"in r&&e(1,i=r.header_title),"open"in r&&e(0,o=r.open),"$$scope"in r&&e(2,a=r.$$scope)},[o,i,a,s,n]}class Et extends He{constructor(t){super(),ze(this,t,Ws,Gs,je,{header_title:1,open:0})}}function ts(l){var a;let t,e=((a=l[6])==null?void 0:a.first_name.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(i){t=v(i,"SPAN",{class:!0});var o=E(t);s=W(o,e),o.forEach(h),this.h()},h(){u(t,"class","error svelte-2t9v52")},m(i,o){j(i,t,o),c(t,s)},p(i,o){var n;o&64&&e!==(e=((n=i[6])==null?void 0:n.first_name.message)+"")&&pe(s,e)},d(i){i&&h(t)}}}function ss(l){var a;let t,e=((a=l[6])==null?void 0:a.last_name.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(i){t=v(i,"SPAN",{class:!0});var o=E(t);s=W(o,e),o.forEach(h),this.h()},h(){u(t,"class","error svelte-2t9v52")},m(i,o){j(i,t,o),c(t,s)},p(i,o){var n;o&64&&e!==(e=((n=i[6])==null?void 0:n.last_name.message)+"")&&pe(s,e)},d(i){i&&h(t)}}}function ls(l){let t,e;return t=new Je({props:{size:"15",color:"#FFF",unit:"px",duration:"1s"}}),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function Js(l){var qe,Re;let t,e,s,a,i,o,n,r,f,d,m,_,g,b,w,L,P,$="- select -",I,q="Masculine",S,F="Feminine",N,C="",D,R,k,T,y,A,M,Y,le,Z,H,V,U,Q="Close",ee,ve,ue,te=((qe=l[6])==null?void 0:qe.first_name)&&ts(l),oe=((Re=l[6])==null?void 0:Re.last_name)&&ss(l),ie=l[8]&&ls();return{c(){t=p("form"),e=p("label"),s=G(`First Name\r
                            `),a=p("input"),o=B(),te&&te.c(),n=B(),r=p("label"),f=G(`Last Name\r
                            `),d=p("input"),_=B(),oe&&oe.c(),g=B(),b=p("label"),w=G(`Gender\r
                            `),L=p("select"),P=p("option"),P.textContent=$,I=p("option"),I.textContent=q,S=p("option"),S.textContent=F,N=p("select"),N.innerHTML=C,R=B(),k=p("label"),T=G(`Birth Date\r
                            `),y=p("input"),M=B(),Y=p("div"),le=p("button"),Z=p("span"),H=G(`Save Changes\r
                                    `),ie&&ie.c(),V=B(),U=p("button"),U.textContent=Q,this.h()},l(J){t=v(J,"FORM",{method:!0});var x=E(t);e=v(x,"LABEL",{class:!0});var ce=E(e);s=W(ce,`First Name\r
                            `),a=v(ce,"INPUT",{name:!0,type:!0,class:!0}),o=O(ce),te&&te.l(ce),ce.forEach(h),n=O(x),r=v(x,"LABEL",{class:!0});var ne=E(r);f=W(ne,`Last Name\r
                            `),d=v(ne,"INPUT",{name:!0,type:!0,class:!0}),_=O(ne),oe&&oe.l(ne),ne.forEach(h),g=O(x),b=v(x,"LABEL",{class:!0});var Ee=E(b);w=W(Ee,`Gender\r
                            `),L=v(Ee,"SELECT",{name:!0,class:!0});var fe=E(L);P=v(fe,"OPTION",{"data-svelte-h":!0}),se(P)!=="svelte-1c069ow"&&(P.textContent=$),I=v(fe,"OPTION",{"data-svelte-h":!0}),se(I)!=="svelte-1hnaehk"&&(I.textContent=q),S=v(fe,"OPTION",{"data-svelte-h":!0}),se(S)!=="svelte-1a0r8ki"&&(S.textContent=F),N=v(fe,"SELECT",{class:!0,"data-svelte-h":!0}),se(N)!=="svelte-12rxiaj"&&(N.innerHTML=C),fe.forEach(h),Ee.forEach(h),R=O(x),k=v(x,"LABEL",{class:!0});var Be=E(k);T=W(Be,`Birth Date\r
                            `),y=v(Be,"INPUT",{id:!0,name:!0,type:!0,class:!0}),Be.forEach(h),M=O(x),Y=v(x,"DIV",{class:!0});var Ce=E(Y);le=v(Ce,"BUTTON",{type:!0,formaction:!0,class:!0});var Te=E(le);Z=v(Te,"SPAN",{class:!0});var Oe=E(Z);H=W(Oe,`Save Changes\r
                                    `),ie&&ie.l(Oe),Oe.forEach(h),Te.forEach(h),V=O(Ce),U=v(Ce,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),se(U)!=="svelte-11kfu5v"&&(U.textContent=Q),Ce.forEach(h),x.forEach(h),this.h()},h(){a.required=!0,u(a,"name","first_name"),u(a,"type","text"),a.value=i=l[0].first_name,u(a,"class","svelte-2t9v52"),u(e,"class","svelte-2t9v52"),d.required=!0,u(d,"name","last_name"),u(d,"type","text"),d.value=m=l[0].last_name,u(d,"class","svelte-2t9v52"),u(r,"class","svelte-2t9v52"),P.__value="",ot(P,P.__value),P.hidden=!0,P.disabled=!0,I.__value="Masculine",ot(I,I.__value),S.__value="Feminine",ot(S,S.__value),u(N,"class","svelte-2t9v52"),u(L,"name","gender"),u(L,"class","svelte-2t9v52"),u(b,"class","svelte-2t9v52"),u(y,"id","birth_date"),u(y,"name","birth_date"),u(y,"type","date"),y.value=A=new Date(l[0].birth_date).toLocaleString("en-CA").split(",")[0],u(y,"class","svelte-2t9v52"),u(k,"class","svelte-2t9v52"),u(Z,"class","svelte-2t9v52"),u(le,"type","submit"),u(le,"formaction","/?/update_basic_info"),u(le,"class","svelte-2t9v52"),u(U,"type","reset"),u(U,"class","svelte-2t9v52"),u(Y,"class","group-btn svelte-2t9v52"),u(t,"method","POST")},m(J,x){j(J,t,x),c(t,e),c(e,s),c(e,a),l[15](a),c(e,o),te&&te.m(e,null),c(t,n),c(t,r),c(r,f),c(r,d),l[16](d),c(r,_),oe&&oe.m(r,null),c(t,g),c(t,b),c(b,w),c(b,L),c(L,P),c(L,I),c(L,S),c(L,N),Bt(L,l[0].gender??""),c(t,R),c(t,k),c(k,T),c(k,y),c(t,M),c(t,Y),c(Y,le),c(le,Z),c(Z,H),ie&&ie.m(Z,null),c(Y,V),c(Y,U),ee=!0,ve||(ue=[K(a,"change",l[14]),K(d,"change",l[14]),K(L,"change",l[14]),K(y,"change",l[14]),K(U,"click",l[17]),Qe(xe.call(null,t,l[11]))],ve=!0)},p(J,x){var ce,ne;(!ee||x&1&&i!==(i=J[0].first_name)&&a.value!==i)&&(a.value=i),(ce=J[6])!=null&&ce.first_name?te?te.p(J,x):(te=ts(J),te.c(),te.m(e,null)):te&&(te.d(1),te=null),(!ee||x&1&&m!==(m=J[0].last_name)&&d.value!==m)&&(d.value=m),(ne=J[6])!=null&&ne.last_name?oe?oe.p(J,x):(oe=ss(J),oe.c(),oe.m(r,null)):oe&&(oe.d(1),oe=null),(!ee||x&1&&D!==(D=J[0].gender??""))&&Bt(L,J[0].gender??""),(!ee||x&1&&A!==(A=new Date(J[0].birth_date).toLocaleString("en-CA").split(",")[0]))&&(y.value=A),J[8]?ie?x&256&&z(ie,1):(ie=ls(),ie.c(),z(ie,1),ie.m(Z,null)):ie&&(De(),X(ie,1,1,()=>{ie=null}),Me())},i(J){ee||(z(ie),ee=!0)},o(J){X(ie),ee=!1},d(J){J&&h(t),l[15](null),te&&te.d(),l[16](null),oe&&oe.d(),ie&&ie.d(),ve=!1,Ve(ue)}}}function ns(l){var a;let t,e=((a=l[6])==null?void 0:a.oldPassword.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(i){t=v(i,"SPAN",{class:!0});var o=E(t);s=W(o,e),o.forEach(h),this.h()},h(){u(t,"class","error svelte-2t9v52")},m(i,o){j(i,t,o),c(t,s)},p(i,o){var n;o&64&&e!==(e=((n=i[6])==null?void 0:n.oldPassword.message)+"")&&pe(s,e)},d(i){i&&h(t)}}}function as(l){var a;let t,e=((a=l[6])==null?void 0:a.password.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(i){t=v(i,"SPAN",{class:!0});var o=E(t);s=W(o,e),o.forEach(h),this.h()},h(){u(t,"class","error svelte-2t9v52")},m(i,o){j(i,t,o),c(t,s)},p(i,o){var n;o&64&&e!==(e=((n=i[6])==null?void 0:n.password.message)+"")&&pe(s,e)},d(i){i&&h(t)}}}function rs(l){var a;let t,e=((a=l[6])==null?void 0:a.passwordConfirm.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(i){t=v(i,"SPAN",{class:!0});var o=E(t);s=W(o,e),o.forEach(h),this.h()},h(){u(t,"class","error svelte-2t9v52")},m(i,o){j(i,t,o),c(t,s)},p(i,o){var n;o&64&&e!==(e=((n=i[6])==null?void 0:n.passwordConfirm.message)+"")&&pe(s,e)},d(i){i&&h(t)}}}function is(l){let t,e;return t=new Je({props:{size:"15",color:"#FFF",unit:"px",duration:"1s"}}),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function Ys(l){var Y,le,Z;let t,e,s,a,i,o,n,r,f,d,m,_,g,b,w,L,P,$,I,q,S,F,N,C="Close",D,R,k,T=((Y=l[6])==null?void 0:Y.oldPassword)&&ns(l),y=((le=l[6])==null?void 0:le.password)&&as(l),A=((Z=l[6])==null?void 0:Z.passwordConfirm)&&rs(l),M=l[8]&&is();return{c(){t=p("form"),e=p("label"),s=G(`Current Password\r
                            `),a=p("input"),i=B(),T&&T.c(),o=B(),n=p("label"),r=G(`New Password\r
                            `),f=p("input"),d=B(),y&&y.c(),m=B(),_=p("label"),g=G(`Confirm Password\r
                            `),b=p("input"),w=B(),A&&A.c(),L=B(),P=p("div"),$=p("div"),I=p("button"),q=p("span"),S=G(`Save Changes\r
                                        `),M&&M.c(),F=B(),N=p("button"),N.textContent=C,this.h()},l(H){t=v(H,"FORM",{method:!0});var V=E(t);e=v(V,"LABEL",{class:!0});var U=E(e);s=W(U,`Current Password\r
                            `),a=v(U,"INPUT",{name:!0,type:!0,class:!0}),i=O(U),T&&T.l(U),U.forEach(h),o=O(V),n=v(V,"LABEL",{class:!0});var Q=E(n);r=W(Q,`New Password\r
                            `),f=v(Q,"INPUT",{name:!0,type:!0,class:!0}),d=O(Q),y&&y.l(Q),Q.forEach(h),m=O(V),_=v(V,"LABEL",{class:!0});var ee=E(_);g=W(ee,`Confirm Password\r
                            `),b=v(ee,"INPUT",{name:!0,type:!0,class:!0}),w=O(ee),A&&A.l(ee),ee.forEach(h),L=O(V),P=v(V,"DIV",{});var ve=E(P);$=v(ve,"DIV",{class:!0});var ue=E($);I=v(ue,"BUTTON",{type:!0,formaction:!0,class:!0});var te=E(I);q=v(te,"SPAN",{class:!0});var oe=E(q);S=W(oe,`Save Changes\r
                                        `),M&&M.l(oe),oe.forEach(h),te.forEach(h),F=O(ue),N=v(ue,"BUTTON",{type:!0,formaction:!0,class:!0,"data-svelte-h":!0}),se(N)!=="svelte-1g0j8hp"&&(N.textContent=C),ue.forEach(h),ve.forEach(h),V.forEach(h),this.h()},h(){a.required=!0,u(a,"name","current_password"),u(a,"type","password"),u(a,"class","svelte-2t9v52"),u(e,"class","svelte-2t9v52"),f.required=!0,u(f,"name","password"),u(f,"type","password"),u(f,"class","svelte-2t9v52"),u(n,"class","svelte-2t9v52"),b.required=!0,u(b,"name","confirm_password"),u(b,"type","password"),u(b,"class","svelte-2t9v52"),u(_,"class","svelte-2t9v52"),u(q,"class","svelte-2t9v52"),u(I,"type","submit"),u(I,"formaction","/?/change_password"),u(I,"class","svelte-2t9v52"),u(N,"type","reset"),u(N,"formaction","/?/close"),u(N,"class","svelte-2t9v52"),u($,"class","group-btn svelte-2t9v52"),u(t,"method","POST")},m(H,V){j(H,t,V),c(t,e),c(e,s),c(e,a),l[18](a),c(e,i),T&&T.m(e,null),c(t,o),c(t,n),c(n,r),c(n,f),l[19](f),c(n,d),y&&y.m(n,null),c(t,m),c(t,_),c(_,g),c(_,b),l[20](b),c(_,w),A&&A.m(_,null),c(t,L),c(t,P),c(P,$),c($,I),c(I,q),c(q,S),M&&M.m(q,null),c($,F),c($,N),D=!0,R||(k=[K(a,"change",l[14]),K(f,"change",l[14]),K(b,"change",l[14]),K(N,"click",l[21]),Qe(xe.call(null,t,l[11]))],R=!0)},p(H,V){var U,Q,ee;(U=H[6])!=null&&U.oldPassword?T?T.p(H,V):(T=ns(H),T.c(),T.m(e,null)):T&&(T.d(1),T=null),(Q=H[6])!=null&&Q.password?y?y.p(H,V):(y=as(H),y.c(),y.m(n,null)):y&&(y.d(1),y=null),(ee=H[6])!=null&&ee.passwordConfirm?A?A.p(H,V):(A=rs(H),A.c(),A.m(_,null)):A&&(A.d(1),A=null),H[8]?M?V&256&&z(M,1):(M=is(),M.c(),z(M,1),M.m(q,null)):M&&(De(),X(M,1,1,()=>{M=null}),Me())},i(H){D||(z(M),D=!0)},o(H){X(M),D=!1},d(H){H&&h(t),l[18](null),T&&T.d(),l[19](null),y&&y.d(),l[20](null),A&&A.d(),M&&M.d(),R=!1,Ve(k)}}}function os(l){var a;let t,e=((a=l[6])==null?void 0:a.password.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(i){t=v(i,"SPAN",{class:!0});var o=E(t);s=W(o,e),o.forEach(h),this.h()},h(){u(t,"class","error svelte-2t9v52")},m(i,o){j(i,t,o),c(t,s)},p(i,o){var n;o&64&&e!==(e=((n=i[6])==null?void 0:n.password.message)+"")&&pe(s,e)},d(i){i&&h(t)}}}function cs(l){var a,i,o;let t,e=((o=(i=(a=l[9])==null?void 0:a.data)==null?void 0:i.message)==null?void 0:o.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(n){t=v(n,"SPAN",{class:!0});var r=E(t);s=W(r,e),r.forEach(h),this.h()},h(){u(t,"class","error svelte-2t9v52")},m(n,r){j(n,t,r),c(t,s)},p(n,r){var f,d,m;r&512&&e!==(e=((m=(d=(f=n[9])==null?void 0:f.data)==null?void 0:d.message)==null?void 0:m.message)+"")&&pe(s,e)},d(n){n&&h(t)}}}function fs(l){var a;let t,e=((a=l[6])==null?void 0:a.newEmail.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(i){t=v(i,"SPAN",{class:!0});var o=E(t);s=W(o,e),o.forEach(h),this.h()},h(){u(t,"class","error svelte-2t9v52")},m(i,o){j(i,t,o),c(t,s)},p(i,o){var n;o&64&&e!==(e=((n=i[6])==null?void 0:n.newEmail.message)+"")&&pe(s,e)},d(i){i&&h(t)}}}function us(l){let t,e;return t=new Je({props:{size:"15",color:"#FFF",unit:"px",duration:"1s"}}),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function Xs(l){var M,Y,le,Z,H;let t,e,s=l[0].email+"",a,i,o,n,r,f,d,m,_,g,b,w,L,P,$,I,q,S,F,N="Close",C,D,R,k=((M=l[6])==null?void 0:M.password)&&os(l),T=((Z=(le=(Y=l[9])==null?void 0:Y.data)==null?void 0:le.message)==null?void 0:Z.code)===400&&cs(l),y=((H=l[6])==null?void 0:H.newEmail)&&fs(l),A=l[8]&&us();return{c(){t=p("form"),e=p("h1"),a=G(s),i=B(),o=p("label"),n=G(`Current Password\r
                            `),r=p("input"),f=B(),k&&k.c(),d=B(),T&&T.c(),m=B(),_=p("label"),g=G(`New Email\r
                            `),b=p("input"),w=B(),y&&y.c(),L=B(),P=p("div"),$=p("button"),I=p("span"),q=G(`Save Changes\r
                                    `),A&&A.c(),S=B(),F=p("button"),F.textContent=N,this.h()},l(V){t=v(V,"FORM",{method:!0});var U=E(t);e=v(U,"H1",{class:!0});var Q=E(e);a=W(Q,s),Q.forEach(h),i=O(U),o=v(U,"LABEL",{class:!0});var ee=E(o);n=W(ee,`Current Password\r
                            `),r=v(ee,"INPUT",{name:!0,type:!0,class:!0}),f=O(ee),k&&k.l(ee),d=O(ee),T&&T.l(ee),ee.forEach(h),m=O(U),_=v(U,"LABEL",{class:!0});var ve=E(_);g=W(ve,`New Email\r
                            `),b=v(ve,"INPUT",{name:!0,type:!0,class:!0}),w=O(ve),y&&y.l(ve),ve.forEach(h),L=O(U),P=v(U,"DIV",{class:!0});var ue=E(P);$=v(ue,"BUTTON",{type:!0,formaction:!0,class:!0});var te=E($);I=v(te,"SPAN",{class:!0});var oe=E(I);q=W(oe,`Save Changes\r
                                    `),A&&A.l(oe),oe.forEach(h),te.forEach(h),S=O(ue),F=v(ue,"BUTTON",{type:!0,formaction:!0,class:!0,"data-svelte-h":!0}),se(F)!=="svelte-7bch8t"&&(F.textContent=N),ue.forEach(h),U.forEach(h),this.h()},h(){u(e,"class","user-email svelte-2t9v52"),r.required=!0,u(r,"name","password"),u(r,"type","password"),u(r,"class","svelte-2t9v52"),u(o,"class","svelte-2t9v52"),b.required=!0,u(b,"name","newEmail"),u(b,"type","email"),u(b,"class","svelte-2t9v52"),u(_,"class","svelte-2t9v52"),u(I,"class","svelte-2t9v52"),u($,"type","submit"),u($,"formaction","/?/change_email"),u($,"class","svelte-2t9v52"),u(F,"type","reset"),u(F,"formaction","/?/close"),u(F,"class","svelte-2t9v52"),u(P,"class","group-btn svelte-2t9v52"),u(t,"method","POST")},m(V,U){j(V,t,U),c(t,e),c(e,a),c(t,i),c(t,o),c(o,n),c(o,r),c(o,f),k&&k.m(o,null),c(o,d),T&&T.m(o,null),c(t,m),c(t,_),c(_,g),c(_,b),c(_,w),y&&y.m(_,null),c(t,L),c(t,P),c(P,$),c($,I),c(I,q),A&&A.m(I,null),c(P,S),c(P,F),C=!0,D||(R=[K(r,"change",l[14]),K(b,"change",l[14]),K(F,"click",l[22]),Qe(xe.call(null,t,l[11]))],D=!0)},p(V,U){var Q,ee,ve,ue,te;(!C||U&1)&&s!==(s=V[0].email+"")&&pe(a,s),(Q=V[6])!=null&&Q.password?k?k.p(V,U):(k=os(V),k.c(),k.m(o,d)):k&&(k.d(1),k=null),((ue=(ve=(ee=V[9])==null?void 0:ee.data)==null?void 0:ve.message)==null?void 0:ue.code)===400?T?T.p(V,U):(T=cs(V),T.c(),T.m(o,null)):T&&(T.d(1),T=null),(te=V[6])!=null&&te.newEmail?y?y.p(V,U):(y=fs(V),y.c(),y.m(_,null)):y&&(y.d(1),y=null),V[8]?A?U&256&&z(A,1):(A=us(),A.c(),z(A,1),A.m(I,null)):A&&(De(),X(A,1,1,()=>{A=null}),Me())},i(V){C||(z(A),C=!0)},o(V){X(A),C=!1},d(V){V&&h(t),k&&k.d(),T&&T.d(),y&&y.d(),A&&A.d(),D=!1,Ve(R)}}}function Qs(l){let t,e,s,a,i="Profile",o,n,r,f,d,m,_,g,b,w,L,P,$,I,q;return r=new Et({props:{header_title:"Basic Info",open:!0,$$slots:{default:[Js]},$$scope:{ctx:l}}}),m=new Et({props:{header_title:"Change Password",$$slots:{default:[Ys]},$$scope:{ctx:l}}}),b=new Et({props:{header_title:"Change Email Address",$$slots:{default:[Xs]},$$scope:{ctx:l}}}),{c(){t=p("main"),e=p("div"),s=p("div"),a=p("h1"),a.textContent=i,o=B(),n=p("div"),f=p("div"),de(r.$$.fragment),d=B(),_=p("div"),de(m.$$.fragment),g=B(),w=p("div"),de(b.$$.fragment),this.h()},l(S){t=v(S,"MAIN",{});var F=E(t);e=v(F,"DIV",{id:!0,tabindex:!0,role:!0,class:!0});var N=E(e);s=v(N,"DIV",{class:!0});var C=E(s);a=v(C,"H1",{class:!0,"data-svelte-h":!0}),se(a)!=="svelte-de01pl"&&(a.textContent=i),o=O(C),n=v(C,"DIV",{});var D=E(n);f=v(D,"DIV",{style:!0});var R=E(f);_e(r.$$.fragment,R),d=O(D),_=v(D,"DIV",{style:!0});var k=E(_);_e(m.$$.fragment,k),g=O(D),w=v(D,"DIV",{style:!0});var T=E(w);_e(b.$$.fragment,T),D.forEach(h),C.forEach(h),N.forEach(h),F.forEach(h),this.h()},h(){u(a,"class","head-title svelte-2t9v52"),re(f,"display","contents"),re(f,"--border-color","none"),re(f,"--header-bg-color","darkgray"),re(f,"--header-bg-hover-color","lightgray"),re(f,"--header-text-color","black"),re(f,"--icon-size","5px"),re(f,"--icon-position","30%"),re(f,"--icon-color","black"),re(f,"--container-height","400px"),re(_,"display","contents"),re(_,"--border-color","none"),re(_,"--header-bg-color","darkgray"),re(_,"--header-bg-hover-color","lightgray"),re(_,"--header-text-color","black"),re(_,"--icon-size","5px"),re(_,"--icon-position","30%"),re(_,"--icon-color","black"),re(_,"--container-height","350px"),re(w,"display","contents"),re(w,"--border-color","none"),re(w,"--header-bg-color","darkgray"),re(w,"--header-bg-hover-color","lightgray"),re(w,"--header-text-color","black"),re(w,"--icon-size","5px"),re(w,"--icon-position","30%"),re(w,"--icon-color","black"),re(w,"--container-height","270px"),u(s,"class","inner-window svelte-2t9v52"),u(e,"id","window-frame"),u(e,"tabindex","0"),u(e,"role","button"),u(e,"class","svelte-2t9v52")},m(S,F){j(S,t,F),c(t,e),c(e,s),c(s,a),c(s,o),c(s,n),c(n,f),me(r,f,null),c(n,d),c(n,_),me(m,_,null),c(n,g),c(n,w),me(b,w,null),l[23](e),$=!0,I||(q=[K(window,"keydown",l[13]),K(e,"click",Xe(l[12])),K(e,"keydown",Zs)],I=!0)},p(S,[F]){const N={};F&33554759&&(N.$$scope={dirty:F,ctx:S}),r.$set(N);const C={};F&33554808&&(C.$$scope={dirty:F,ctx:S}),m.$set(C);const D={};F&33555265&&(D.$$scope={dirty:F,ctx:S}),b.$set(D)},i(S){$||(z(r.$$.fragment,S),z(m.$$.fragment,S),z(b.$$.fragment,S),S&&Ze(()=>{$&&(P&&P.end(1),L=ft(s,Ke,{x:22,duration:300}),L.start())}),$=!0)},o(S){X(r.$$.fragment,S),X(m.$$.fragment,S),X(b.$$.fragment,S),L&&L.invalidate(),S&&(P=ut(s,Ke,{x:82,duration:200})),$=!1},d(S){S&&h(t),he(r),he(m),he(b),S&&P&&P.end(),l[23](null),I=!1,Ve(q)}}}const Zs=()=>{};function xs(l,t,e){let{user:s}=t,a,i,o,n,r,f,d=!1,m=null,_=null;const g=ht(),b=async()=>(e(8,d=!0),async({result:T})=>{var y,A,M,Y;e(8,d=!1),e(9,m=T),(y=m==null?void 0:m.data)!=null&&y.success?(A=m==null?void 0:m.data)!=null&&A.change_email?g("close",{success:!0,change_email:!0}):g("close",{success:!0}):(e(8,d=!1),e(6,_=(Y=(M=m==null?void 0:m.data)==null?void 0:M.message)==null?void 0:Y.data),console.log(m))}),w=T=>{T.target.closest("#window-frame")&&g("close")},L=T=>{if(T.key==="Escape"){g("close");return}if(T.key==="Tab"){const y=a.querySelectorAll("*"),A=Array.from(y).filter(Y=>Y.tabIndex>=0&&!Y.hidden);let M=A.indexOf(document.activeElement);M===-1&&T.shiftKey&&(M=0),M+=A.length+(T.shiftKey?-1:1),M%=A.length,A[M].focus(),T.preventDefault()}},P=typeof document<"u"&&document.activeElement;P&&pt(()=>{P.focus()});const $=()=>{};function I(T){ye[T?"unshift":"push"](()=>{i=T,e(1,i)})}function q(T){ye[T?"unshift":"push"](()=>{o=T,e(2,o)})}const S=()=>{g("close")};function F(T){ye[T?"unshift":"push"](()=>{n=T,e(3,n)})}function N(T){ye[T?"unshift":"push"](()=>{r=T,e(4,r)})}function C(T){ye[T?"unshift":"push"](()=>{f=T,e(5,f)})}const D=()=>{g("close")},R=()=>{g("close")};function k(T){ye[T?"unshift":"push"](()=>{a=T,e(7,a)})}return l.$$set=T=>{"user"in T&&e(0,s=T.user)},l.$$.update=()=>{l.$$.dirty&126&&(_!=null&&_.first_name?i.focus():_!=null&&_.last_name?o.focus():_!=null&&_.oldPassword?n.focus():_!=null&&_.password?r.focus():_!=null&&_.passwordConfirm&&f.focus())},[s,i,o,n,r,f,_,a,d,m,g,b,w,L,$,I,q,S,F,N,C,D,R,k]}class el extends He{constructor(t){super(),ze(this,t,xs,Qs,je,{user:0})}}function ds(l){var a,i;let t,e=((i=(a=l[1])==null?void 0:a.email)==null?void 0:i.message)+"",s;return{c(){t=p("span"),s=G(e),this.h()},l(o){t=v(o,"SPAN",{class:!0});var n=E(t);s=W(n,e),n.forEach(h),this.h()},h(){u(t,"class","error svelte-1mdw3dw")},m(o,n){j(o,t,n),c(t,s)},p(o,n){var r,f;n&2&&e!==(e=((f=(r=o[1])==null?void 0:r.email)==null?void 0:f.message)+"")&&pe(s,e)},d(o){o&&h(t)}}}function _s(l){let t,e;return t=new Je({props:{size:"15",color:"#FFF",unit:"px",duration:"1s"}}),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function tl(l){var T;let t,e,s,a,i='<h1 class="head-title svelte-1mdw3dw">Password Recovery</h1> <p class="mt-2 text-sm font-light">Please enter the email you associated on your account here where I will send a recovery link.</p>',o,n,r,f,d,m,_,g,b,w,L="Send recovery link...",P,$,I,q="Back to Log in",S,F,N,C,D,R=((T=l[1])==null?void 0:T.email)&&ds(l),k=l[3]&&_s();return{c(){t=p("main"),e=p("div"),s=p("form"),a=p("div"),a.innerHTML=i,o=B(),n=p("label"),r=G(`Email\r
                `),f=p("input"),d=B(),R&&R.c(),m=B(),_=p("button"),g=p("i"),b=G(` \r
                `),w=p("span"),w.textContent=L,P=G(` \r
                `),k&&k.c(),$=B(),I=p("button"),I.textContent=q,this.h()},l(y){t=v(y,"MAIN",{});var A=E(t);e=v(A,"DIV",{id:!0,tabindex:!0,role:!0,class:!0});var M=E(e);s=v(M,"FORM",{class:!0,method:!0,action:!0});var Y=E(s);a=v(Y,"DIV",{class:!0,"data-svelte-h":!0}),se(a)!=="svelte-1jbnaf2"&&(a.innerHTML=i),o=O(Y),n=v(Y,"LABEL",{class:!0});var le=E(n);r=W(le,`Email\r
                `),f=v(le,"INPUT",{name:!0,type:!0,class:!0}),d=O(le),R&&R.l(le),le.forEach(h),m=O(Y),_=v(Y,"BUTTON",{formaction:!0,class:!0});var Z=E(_);g=v(Z,"I",{class:!0}),E(g).forEach(h),b=W(Z,` \r
                `),w=v(Z,"SPAN",{"data-svelte-h":!0}),se(w)!=="svelte-10ymflr"&&(w.textContent=L),P=W(Z,` \r
                `),k&&k.l(Z),Z.forEach(h),$=O(Y),I=v(Y,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),se(I)!=="svelte-nw4myb"&&(I.textContent=q),Y.forEach(h),M.forEach(h),A.forEach(h),this.h()},h(){u(a,"class","head-title-wrapper"),u(f,"name","email"),u(f,"type","email"),u(f,"class","svelte-1mdw3dw"),u(n,"class","svelte-1mdw3dw"),u(g,"class","ri-mail-send-line"),u(_,"formaction","/?/request_reset_password"),u(_,"class","send-recovery-link-button svelte-1mdw3dw"),u(I,"type","reset"),u(I,"class","svelte-1mdw3dw"),u(s,"class","inner-window svelte-1mdw3dw"),u(s,"method","POST"),u(s,"action","/?/log_in"),u(e,"id","window-frame"),u(e,"tabindex","0"),u(e,"role","button"),u(e,"class","svelte-1mdw3dw")},m(y,A){j(y,t,A),c(t,e),c(e,s),c(s,a),c(s,o),c(s,n),c(n,r),c(n,f),l[8](f),c(n,d),R&&R.m(n,null),c(s,m),c(s,_),c(_,g),c(_,b),c(_,w),c(_,P),k&&k.m(_,null),c(s,$),c(s,I),l[10](e),N=!0,C||(D=[K(window,"keydown",l[7]),K(I,"click",l[9]),Qe(xe.call(null,s,l[5])),K(e,"click",Xe(l[6])),K(e,"keydown",sl)],C=!0)},p(y,[A]){var M;(M=y[1])!=null&&M.email?R?R.p(y,A):(R=ds(y),R.c(),R.m(n,null)):R&&(R.d(1),R=null),y[3]?k?A&8&&z(k,1):(k=_s(),k.c(),z(k,1),k.m(_,null)):k&&(De(),X(k,1,1,()=>{k=null}),Me())},i(y){N||(z(k),y&&Ze(()=>{N&&(F&&F.end(1),S=ft(s,Ke,{x:22,duration:300}),S.start())}),N=!0)},o(y){X(k),S&&S.invalidate(),y&&(F=ut(s,Ke,{x:82,duration:200})),N=!1},d(y){y&&h(t),l[8](null),R&&R.d(),k&&k.d(),y&&F&&F.end(),l[10](null),C=!1,Ve(D)}}}const sl=()=>{};function ll(l,t,e){const s=ht();let a,i,o=null,n=!1;ct(()=>i.focus());const r=async()=>(e(3,n=!0),async({result:w})=>{const L=w;console.log(w),L.data.success===!0?s("close",{success:L.data.success}):L.data.success===!1&&(e(3,n=!1),e(1,o=L.data.message.data))}),f=w=>{w.target.closest("#window-frame")&&s("close")},d=w=>{if(w.key==="Escape"){s("close");return}if(w.key==="Tab"){const L=a.querySelectorAll("*"),P=Array.from(L).filter(I=>I.tabIndex>=0&&!I.hidden);let $=P.indexOf(document.activeElement);$===-1&&w.shiftKey&&($=0),$+=P.length+(w.shiftKey?-1:1),$%=P.length,P[$].focus(),w.preventDefault()}},m=typeof document<"u"&&document.activeElement;m&&pt(()=>{m.focus()});function _(w){ye[w?"unshift":"push"](()=>{i=w,e(0,i)})}const g=()=>{s("close",{back_to_main:!0})};function b(w){ye[w?"unshift":"push"](()=>{a=w,e(2,a)})}return l.$$.update=()=>{l.$$.dirty&3&&o!=null&&o.email&&i.focus()},[i,o,a,n,s,r,f,d,_,g,b]}class nl extends He{constructor(t){super(),ze(this,t,ll,tl,je,{})}}function al(l){let t;return{c(){t=p("i"),this.h()},l(e){t=v(e,"I",{class:!0}),E(t).forEach(h),this.h()},h(){u(t,"class","ri-sun-fill black svelte-a9zu1v")},m(e,s){j(e,t,s)},d(e){e&&h(t)}}}function rl(l){let t;return{c(){t=p("i"),this.h()},l(e){t=v(e,"I",{class:!0}),E(t).forEach(h),this.h()},h(){u(t,"class","ri-moon-clear-fill")},m(e,s){j(e,t,s)},d(e){e&&h(t)}}}function il(l){let t,e,s,a,i;function o(f,d){return f[1]==="dark"?rl:al}let n=o(l),r=n(l);return{c(){t=p("main"),e=p("button"),s=p("span"),r.c(),this.h()},l(f){t=v(f,"MAIN",{class:!0});var d=E(t);e=v(d,"BUTTON",{title:!0,class:!0});var m=E(e);s=v(m,"SPAN",{class:!0});var _=E(s);r.l(_),_.forEach(h),m.forEach(h),d.forEach(h),this.h()},h(){u(s,"class","icon svelte-a9zu1v"),ge(s,"animate",l[0]),u(e,"title","switch theme"),u(e,"class","svelte-a9zu1v"),u(t,"class","svelte-a9zu1v")},m(f,d){j(f,t,d),c(t,e),c(e,s),r.m(s,null),a||(i=K(e,"click",l[2]),a=!0)},p(f,[d]){n!==(n=o(f))&&(r.d(1),r=n(f),r&&(r.c(),r.m(s,null))),d&1&&ge(s,"animate",f[0])},i:we,o:we,d(f){f&&h(t),r.d(),a=!1,i()}}}function ol(l,t,e){let s;Fe(l,Ct,n=>e(1,s=n));let a=!1;function i(){s==="dark"?(document.body.classList.contains("light-theme")&&document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme")):(document.body.classList.contains("dark-theme")&&document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"))}return ct(()=>{i()}),[a,s,()=>{e(0,a=!0),setTimeout(()=>e(0,a=!1),1e3),be(Ct,s=s==="dark"?"light":"dark",s),i()}]}class cl extends He{constructor(t){super(),ze(this,t,ol,il,je,{})}}function ms(l){let t,e,s,a;const i=[ul,fl],o=[];function n(r,f){return r[2]?1:0}return t=n(l),e=o[t]=i[t](l),{c(){e.c(),s=Se()},l(r){e.l(r),s=Se()},m(r,f){o[t].m(r,f),j(r,s,f),a=!0},p(r,f){let d=t;t=n(r),t===d?o[t].p(r,f):(De(),X(o[d],1,1,()=>{o[d]=null}),Me(),e=o[t],e?e.p(r,f):(e=o[t]=i[t](r),e.c()),z(e,1),e.m(s.parentNode,s))},i(r){a||(z(e),a=!0)},o(r){X(e),a=!1},d(r){r&&h(s),o[t].d(r)}}}function fl(l){let t,e,s,a,i="Log Out",o,n,r,f,d,m,_,g=l[1]&&hs();return{c(){t=p("div"),e=p("form"),s=p("button"),a=p("span"),a.textContent=i,o=B(),g&&g.c(),n=B(),r=p("button"),f=G("Profile"),this.h()},l(b){t=v(b,"DIV",{class:!0});var w=E(t);e=v(w,"FORM",{action:!0,method:!0});var L=E(e);s=v(L,"BUTTON",{type:!0,class:!0});var P=E(s);a=v(P,"SPAN",{"data-svelte-h":!0}),se(a)!=="svelte-5cn72c"&&(a.textContent=i),o=O(P),g&&g.l(P),P.forEach(h),L.forEach(h),n=O(w),r=v(w,"BUTTON",{title:!0,class:!0});var $=E(r);f=W($,"Profile"),$.forEach(h),w.forEach(h),this.h()},h(){u(s,"type","submit"),u(s,"class","svelte-1vaweae"),u(e,"action","/?/log_out"),u(e,"method","POST"),r.disabled=l[1],u(r,"title","Update your profile"),u(r,"class","svelte-1vaweae"),u(t,"class","dd-menu svelte-1vaweae")},m(b,w){j(b,t,w),c(t,e),c(e,s),c(s,a),c(s,o),g&&g.m(s,null),c(t,n),c(t,r),c(r,f),d=!0,m||(_=[K(s,"click",l[9],{once:!0}),K(r,"blur",l[10]),K(r,"click",l[6])],m=!0)},p(b,w){b[1]?g?w&2&&z(g,1):(g=hs(),g.c(),z(g,1),g.m(s,null)):g&&(De(),X(g,1,1,()=>{g=null}),Me()),(!d||w&2)&&(r.disabled=b[1])},i(b){d||(z(g),d=!0)},o(b){X(g),d=!1},d(b){b&&h(t),g&&g.d(),m=!1,Ve(_)}}}function ul(l){let t,e,s="Login",a,i,o="Friend Me",n,r;return{c(){t=p("div"),e=p("button"),e.textContent=s,a=B(),i=p("button"),i.textContent=o,this.h()},l(f){t=v(f,"DIV",{class:!0});var d=E(t);e=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-nhjjbz"&&(e.textContent=s),a=O(d),i=v(d,"BUTTON",{title:!0,class:!0,"data-svelte-h":!0}),se(i)!=="svelte-5celgs"&&(i.textContent=o),d.forEach(h),this.h()},h(){u(e,"class","svelte-1vaweae"),u(i,"title","If you do, you can chat with me privately and securely. Just you and me, nothing in between."),u(i,"class","svelte-1vaweae"),u(t,"class","dd-menu svelte-1vaweae")},m(f,d){j(f,t,d),c(t,e),c(t,a),c(t,i),n||(r=[K(e,"click",l[4]),K(i,"blur",l[8]),K(i,"click",l[5])],n=!0)},p:we,i:we,o:we,d(f){f&&h(t),n=!1,Ve(r)}}}function hs(l){let t,e;return t=new Je({props:{size:"15",color:"#FFF",unit:"px",duration:"1s"}}),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function dl(l){let t,e,s='<span class="icon svelte-1vaweae"><i class="ri-arrow-down-s-fill"></i></span>',a,i,o,n,r=l[0]&&ms(l);return{c(){t=p("main"),e=p("button"),e.innerHTML=s,a=B(),r&&r.c(),this.h()},l(f){t=v(f,"MAIN",{});var d=E(t);e=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-108c72x"&&(e.innerHTML=s),a=O(d),r&&r.l(d),d.forEach(h),this.h()},h(){u(e,"class","svelte-1vaweae")},m(f,d){j(f,t,d),c(t,e),c(t,a),r&&r.m(t,null),i=!0,o||(n=[K(window,"keydown",l[3]),K(e,"focus",l[7]),K(t,"focus",l[11]),K(t,"mouseover",l[12]),K(t,"mouseleave",l[13])],o=!0)},p(f,[d]){f[0]?r?(r.p(f,d),d&1&&z(r,1)):(r=ms(f),r.c(),z(r,1),r.m(t,null)):r&&(De(),X(r,1,1,()=>{r=null}),Me())},i(f){i||(z(r),i=!0)},o(f){X(r),i=!1},d(f){f&&h(t),r&&r.d(),o=!1,Ve(n)}}}function _l(l,t,e){let s;Fe(l,mt,P=>e(2,s=P));let a=!1,i=!1;return[a,i,s,P=>{P.key!=="Tab"&&P.key!=="Shift"&&P.key!==" "&&e(0,a=!1)},()=>{e(0,a=!1),Ge.set("login")},P=>{e(0,a=!1),Ge.set("signup")},P=>{e(0,a=!1),Ge.set("profile")},()=>e(0,a=!0),()=>e(0,a=!1),()=>e(1,i=!0),()=>e(0,a=!1),()=>e(0,a=!0),()=>e(0,a=!0),()=>e(0,a=!1)]}class ml extends He{constructor(t){super(),ze(this,t,_l,dl,je,{})}}function ps(l){let t,e,s="Background",a,i,o,n,r,f,d=l[1]&&vs(l);return{c(){t=p("li"),e=p("a"),e.textContent=s,a=B(),i=p("li"),o=p("a"),n=G(`Chat\r
                    `),d&&d.c(),this.h()},l(m){t=v(m,"LI",{});var _=E(t);e=v(_,"A",{href:!0,class:!0,"data-svelte-h":!0}),se(e)!=="svelte-18xdasc"&&(e.textContent=s),_.forEach(h),a=O(m),i=v(m,"LI",{});var g=E(i);o=v(g,"A",{href:!0,class:!0});var b=E(o);n=W(b,`Chat\r
                    `),d&&d.l(b),b.forEach(h),g.forEach(h),this.h()},h(){u(e,"href","/background"),u(e,"class","svelte-12m65i"),ge(e,"active",l[3]==="background"),u(o,"href","/chat"),u(o,"class","svelte-12m65i"),ge(o,"active",l[3]==="chat")},m(m,_){j(m,t,_),c(t,e),j(m,a,_),j(m,i,_),c(i,o),c(o,n),d&&d.m(o,null),r||(f=[K(e,"click",l[9]),K(o,"click",l[10])],r=!0)},p(m,_){_&8&&ge(e,"active",m[3]==="background"),m[1]?d?d.p(m,_):(d=vs(m),d.c(),d.m(o,null)):d&&(d.d(1),d=null),_&8&&ge(o,"active",m[3]==="chat")},d(m){m&&(h(t),h(a),h(i)),d&&d.d(),r=!1,Ve(f)}}}function vs(l){let t,e,s;return{c(){t=G(" "),e=p("span"),s=G(l[1]),this.h()},l(a){t=W(a," "),e=v(a,"SPAN",{class:!0});var i=E(e);s=W(i,l[1]),i.forEach(h),this.h()},h(){u(e,"class","total-unread-chats svelte-12m65i")},m(a,i){j(a,t,i),j(a,e,i),c(e,s)},p(a,i){i&2&&pe(s,a[1])},d(a){a&&(h(t),h(e))}}}function bs(l){var s;let t,e=((s=l[4])==null?void 0:s.role)==1&&gs(l);return{c(){e&&e.c(),t=Se()},l(a){e&&e.l(a),t=Se()},m(a,i){e&&e.m(a,i),j(a,t,i)},p(a,i){var o;((o=a[4])==null?void 0:o.role)==1?e?e.p(a,i):(e=gs(a),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},d(a){a&&h(t),e&&e.d(a)}}}function gs(l){var i,o;let t,e=`${(i=l[4])==null?void 0:i.first_name[0]}${(o=l[4])==null?void 0:o.last_name[0]}`,s,a;return{c(){t=p("p"),s=G(e),a=G(" ")},l(n){t=v(n,"P",{});var r=E(t);s=W(r,e),r.forEach(h),a=W(n," ")},m(n,r){j(n,t,r),c(t,s),j(n,a,r)},p(n,r){var f,d;r&16&&e!==(e=`${(f=n[4])==null?void 0:f.first_name[0]}${(d=n[4])==null?void 0:d.last_name[0]}`)&&pe(s,e)},d(n){n&&(h(t),h(a))}}}function hl(l){let t=!1,e=()=>{t=!1},s,a,i,o,n,r="Dashboard",f,d,m,_="Projects",g,b,w,L="© MICHAEL SANTIAGO",P,$,I,q,S,F,N,C,D,R;Ze(l[6]);let k=l[4]&&ps(l);I=new cl({});let T=l[4]&&bs(l);return N=new ml({}),{c(){a=p("nav"),i=p("ul"),o=p("li"),n=p("a"),n.textContent=r,f=B(),d=p("li"),m=p("a"),m.textContent=_,g=B(),k&&k.c(),b=B(),w=p("span"),w.textContent=L,P=B(),$=p("span"),de(I.$$.fragment),q=B(),S=p("span"),T&&T.c(),F=B(),de(N.$$.fragment),this.h()},l(y){a=v(y,"NAV",{class:!0});var A=E(a);i=v(A,"UL",{class:!0});var M=E(i);o=v(M,"LI",{});var Y=E(o);n=v(Y,"A",{href:!0,class:!0,"data-svelte-h":!0}),se(n)!=="svelte-3e0gtm"&&(n.textContent=r),Y.forEach(h),f=O(M),d=v(M,"LI",{});var le=E(d);m=v(le,"A",{href:!0,class:!0,"data-svelte-h":!0}),se(m)!=="svelte-1jcppl0"&&(m.textContent=_),le.forEach(h),g=O(M),k&&k.l(M),M.forEach(h),b=O(A),w=v(A,"SPAN",{class:!0,"data-svelte-h":!0}),se(w)!=="svelte-1y5jesa"&&(w.textContent=L),P=O(A),$=v(A,"SPAN",{});var Z=E($);_e(I.$$.fragment,Z),Z.forEach(h),q=O(A),S=v(A,"SPAN",{class:!0});var H=E(S);T&&T.l(H),F=O(H),_e(N.$$.fragment,H),H.forEach(h),A.forEach(h),this.h()},h(){u(n,"href","/"),u(n,"class","svelte-12m65i"),ge(n,"active",l[3]==="dashboard"),u(m,"href","/projects"),u(m,"class","svelte-12m65i"),ge(m,"active",l[3]==="projects"),u(i,"class","svelte-12m65i"),u(w,"class","me svelte-12m65i"),u(S,"class","current-user svelte-12m65i"),u(a,"class","svelte-12m65i"),ge(a,"nav-shadow-white",l[2]==="dark"&&l[0]>=11),ge(a,"nav-shadow-black",l[2]==="light"&&l[0]>=11)},m(y,A){j(y,a,A),c(a,i),c(i,o),c(o,n),c(i,f),c(i,d),c(d,m),c(i,g),k&&k.m(i,null),c(a,b),c(a,w),c(a,P),c(a,$),me(I,$,null),c(a,q),c(a,S),T&&T.m(S,null),c(S,F),me(N,S,null),C=!0,D||(R=[K(window,"scroll",()=>{t=!0,clearTimeout(s),s=setTimeout(e,100),l[6]()}),K(n,"click",l[7]),K(m,"click",l[8])],D=!0)},p(y,[A]){A&1&&!t&&(t=!0,clearTimeout(s),scrollTo(window.pageXOffset,y[0]),s=setTimeout(e,100)),(!C||A&8)&&ge(n,"active",y[3]==="dashboard"),(!C||A&8)&&ge(m,"active",y[3]==="projects"),y[4]?k?k.p(y,A):(k=ps(y),k.c(),k.m(i,null)):k&&(k.d(1),k=null),y[4]?T?T.p(y,A):(T=bs(y),T.c(),T.m(S,F)):T&&(T.d(1),T=null),(!C||A&5)&&ge(a,"nav-shadow-white",y[2]==="dark"&&y[0]>=11),(!C||A&5)&&ge(a,"nav-shadow-black",y[2]==="light"&&y[0]>=11)},i(y){C||(z(I.$$.fragment,y),z(N.$$.fragment,y),C=!0)},o(y){X(I.$$.fragment,y),X(N.$$.fragment,y),C=!1},d(y){y&&h(a),k&&k.d(),he(I),T&&T.d(),he(N),D=!1,Ve(R)}}}function pl(l,t,e){let s,a,i,o,n;Fe(l,it,b=>e(5,a=b)),Fe(l,Ct,b=>e(2,i=b)),Fe(l,rt,b=>e(3,o=b)),Fe(l,mt,b=>e(4,n=b));let r=0;function f(){e(0,r=window.pageYOffset)}const d=()=>be(rt,o="dashboard",o),m=()=>be(rt,o="projects",o),_=()=>be(rt,o="background",o),g=()=>be(rt,o="chat",o);return l.$$.update=()=>{l.$$.dirty&32&&e(1,s=a.length)},[r,s,i,o,n,a,f,d,m,_,g]}class vl extends He{constructor(t){super(),ze(this,t,pl,hl,je,{})}}function bl(l){let t,e,s,a=new Date().getFullYear()+"",i,o,n,r=`<span class="svelte-1rsxejd">Powered by</span>
         
        <li><a href="https://kit.svelte.dev" target="_blank">SvelteKit</a></li>
         + 
        <li><a href="https://pocketbase.io" target="_blank">PocketBase</a></li>
         + 
        <li><a href="https://pockethost.io" target="_blank">PocketHost</a></li>`;return{c(){t=p("footer"),e=p("span"),s=G("Michael Santiago © 2022 - "),i=G(a),o=B(),n=p("ul"),n.innerHTML=r,this.h()},l(f){t=v(f,"FOOTER",{class:!0});var d=E(t);e=v(d,"SPAN",{class:!0});var m=E(e);s=W(m,"Michael Santiago © 2022 - "),i=W(m,a),m.forEach(h),o=O(d),n=v(d,"UL",{class:!0,"data-svelte-h":!0}),se(n)!=="svelte-5ccmx7"&&(n.innerHTML=r),d.forEach(h),this.h()},h(){u(e,"class","svelte-1rsxejd"),u(n,"class","svelte-1rsxejd"),u(t,"class","svelte-1rsxejd")},m(f,d){j(f,t,d),c(t,e),c(e,s),c(e,i),c(t,o),c(t,n)},p:we,i:we,o:we,d(f){f&&h(t)}}}class gl extends He{constructor(t){super(),ze(this,t,null,bl,je,{})}}const wl=l=>({}),ws=l=>({});function kl(l){let t;return{c(){t=G("No message")},l(e){t=W(e,"No message")},m(e,s){j(e,t,s)},d(e){e&&h(t)}}}function yl(l){let t;return{c(){t=p("i"),this.h()},l(e){t=v(e,"I",{class:!0}),E(t).forEach(h),this.h()},h(){u(t,"class","red ri-close-circle-fill svelte-1r0oaev")},m(e,s){j(e,t,s)},d(e){e&&h(t)}}}function El(l){let t;return{c(){t=p("i"),this.h()},l(e){t=v(e,"I",{class:!0}),E(t).forEach(h),this.h()},h(){u(t,"class","green ri-checkbox-circle-fill svelte-1r0oaev")},m(e,s){j(e,t,s)},d(e){e&&h(t)}}}function Cl(l){let t,e,s,a,i,o,n,r;const f=l[2].message,d=Tt(f,l,l[1],ws),m=d||kl();function _(w,L){return w[0]?El:yl}let g=_(l),b=g(l);return{c(){t=p("main"),e=p("div"),s=p("div"),a=p("div"),m&&m.c(),i=B(),b.c(),this.h()},l(w){t=v(w,"MAIN",{class:!0});var L=E(t);e=v(L,"DIV",{class:!0});var P=E(e);s=v(P,"DIV",{class:!0});var $=E(s);a=v($,"DIV",{class:!0});var I=E(a);m&&m.l(I),I.forEach(h),i=O($),b.l($),$.forEach(h),P.forEach(h),L.forEach(h),this.h()},h(){u(a,"class","message svelte-1r0oaev"),u(s,"class","body-wrapper svelte-1r0oaev"),u(e,"class","main svelte-1r0oaev"),u(t,"class","svelte-1r0oaev")},m(w,L){j(w,t,L),c(t,e),c(e,s),c(s,a),m&&m.m(a,null),c(s,i),b.m(s,null),r=!0},p(w,[L]){d&&d.p&&(!r||L&2)&&Nt(d,f,w,w[1],r?Lt(f,w[1],L,wl):Pt(w[1]),ws),g!==(g=_(w))&&(b.d(1),b=g(w),b&&(b.c(),b.m(s,null)))},i(w){r||(z(m,w),w&&Ze(()=>{r&&(n&&n.end(1),o=ft(e,Ke,{y:-50,duration:500}),o.start())}),r=!0)},o(w){X(m,w),o&&o.invalidate(),w&&(n=ut(e,Ss,{delay:250,duration:300})),r=!1},d(w){w&&h(t),m&&m.d(w),b.d(),w&&n&&n.end()}}}function Tl(l,t,e){let{$$slots:s={},$$scope:a}=t,{success:i}=t;return l.$$set=o=>{"success"in o&&e(0,i=o.success),"$$scope"in o&&e(1,a=o.$$scope)},[i,a,s]}class vt extends He{constructor(t){super(),ze(this,t,Tl,Cl,je,{success:0})}}const Nl=()=>{const l=Is;return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},updated:l.updated}},Pl={subscribe(l){return Nl().page.subscribe(l)}};function ks(l){let t,e;return t=new nl({}),t.$on("close",l[9]),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},p:we,i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function Ll(l){let t,e;return t=new vt({props:{success:!0,$$slots:{message:[Sl]},$$scope:{ctx:l}}}),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function $l(l){let t,e;return t=new vt({props:{success:!0,$$slots:{message:[Fl]},$$scope:{ctx:l}}}),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function Il(l){let t,e;return t=new vt({props:{success:!0,$$slots:{message:[Bl]},$$scope:{ctx:l}}}),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function Al(l){let t,e;return t=new vt({props:{success:!0,$$slots:{message:[Ol]},$$scope:{ctx:l}}}),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function Sl(l){let t,e="<p>Change of email request was sent successfully!</p> <p>Please check your new email and confirm the change</p> <br/> <p>Thank you for the friendship!</p>";return{c(){t=p("div"),t.innerHTML=e,this.h()},l(s){t=v(s,"DIV",{slot:!0,"data-svelte-h":!0}),se(t)!=="svelte-1dq52qi"&&(t.innerHTML=e),this.h()},h(){u(t,"slot","message")},m(s,a){j(s,t,a)},p:we,d(s){s&&h(t)}}}function Fl(l){let t,e="<p>Profile is updated successfully!</p> <p>Page will reload after a second or two.</p> <br/> <p>Thank you for the friendship!</p>";return{c(){t=p("div"),t.innerHTML=e,this.h()},l(s){t=v(s,"DIV",{slot:!0,"data-svelte-h":!0}),se(t)!=="svelte-3lt7ma"&&(t.innerHTML=e),this.h()},h(){u(t,"slot","message")},m(s,a){j(s,t,a)},p:we,d(s){s&&h(t)}}}function Bl(l){let t,e="<p>Recovery link was sent to your email. Please click that link and follow the instructions.</p> <br/> <p>Thank you for the friendship!</p>";return{c(){t=p("div"),t.innerHTML=e,this.h()},l(s){t=v(s,"DIV",{slot:!0,"data-svelte-h":!0}),se(t)!=="svelte-1996haa"&&(t.innerHTML=e),this.h()},h(){u(t,"slot","message")},m(s,a){j(s,t,a)},p:we,d(s){s&&h(t)}}}function Ol(l){let t,e="<p>Please check your email where I sent you a verification link.</p> <br/> <p>Thank you for the friendship!</p>";return{c(){t=p("div"),t.innerHTML=e,this.h()},l(s){t=v(s,"DIV",{slot:!0,"data-svelte-h":!0}),se(t)!=="svelte-uichzl"&&(t.innerHTML=e),this.h()},h(){u(t,"slot","message")},m(s,a){j(s,t,a)},p:we,d(s){s&&h(t)}}}function Ul(l){let t,e;return t=new el({props:{user:l[5]}}),t.$on("close",l[10]),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},p(s,a){const i={};a&32&&(i.user=s[5]),t.$set(i)},i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function Dl(l){let t,e;return t=new Ks({}),t.$on("close",l[7]),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},p:we,i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function Ml(l){let t,e;return t=new js({}),t.$on("close",l[8]),{c(){de(t.$$.fragment)},l(s){_e(t.$$.fragment,s)},m(s,a){me(t,s,a),e=!0},p:we,i(s){e||(z(t.$$.fragment,s),e=!0)},o(s){X(t.$$.fragment,s),e=!1},d(s){he(t,s)}}}function jl(l){let t,e,s,a,i,o,n,r,f,d,m,_,g,b=l[4]&&ks(l);const w=[Al,Il,$l,Ll],L=[];function P(N,C){return N[0]?0:N[1]?1:N[2]?2:N[3]?3:-1}~(e=P(l))&&(s=L[e]=w[e](l));const $=[Ml,Dl,Ul],I=[];function q(N,C){return N[6]==="login"?0:N[6]==="signup"?1:N[6]==="profile"?2:-1}~(i=q(l))&&(o=I[i]=$[i](l)),f=new vl({});const S=l[11].default,F=Tt(S,l,l[12],null);return _=new gl({}),{c(){b&&b.c(),t=B(),s&&s.c(),a=B(),o&&o.c(),n=B(),r=p("main"),de(f.$$.fragment),d=B(),F&&F.c(),m=B(),de(_.$$.fragment),this.h()},l(N){b&&b.l(N),t=O(N),s&&s.l(N),a=O(N),o&&o.l(N),n=O(N),r=v(N,"MAIN",{class:!0});var C=E(r);_e(f.$$.fragment,C),d=O(C),F&&F.l(C),m=O(C),_e(_.$$.fragment,C),C.forEach(h),this.h()},h(){u(r,"class","svelte-7lgbuj")},m(N,C){b&&b.m(N,C),j(N,t,C),~e&&L[e].m(N,C),j(N,a,C),~i&&I[i].m(N,C),j(N,n,C),j(N,r,C),me(f,r,null),c(r,d),F&&F.m(r,null),c(r,m),me(_,r,null),g=!0},p(N,[C]){N[4]?b?(b.p(N,C),C&16&&z(b,1)):(b=ks(N),b.c(),z(b,1),b.m(t.parentNode,t)):b&&(De(),X(b,1,1,()=>{b=null}),Me());let D=e;e=P(N),e!==D&&(s&&(De(),X(L[D],1,1,()=>{L[D]=null}),Me()),~e?(s=L[e],s||(s=L[e]=w[e](N),s.c()),z(s,1),s.m(a.parentNode,a)):s=null);let R=i;i=q(N),i===R?~i&&I[i].p(N,C):(o&&(De(),X(I[R],1,1,()=>{I[R]=null}),Me()),~i?(o=I[i],o?o.p(N,C):(o=I[i]=$[i](N),o.c()),z(o,1),o.m(n.parentNode,n)):o=null),F&&F.p&&(!g||C&4096)&&Nt(F,S,N,N[12],g?Lt(S,N[12],C,null):Pt(N[12]),null)},i(N){g||(z(b),z(s),z(o),z(f.$$.fragment,N),z(F,N),z(_.$$.fragment,N),g=!0)},o(N){X(b),X(s),X(o),X(f.$$.fragment,N),X(F,N),X(_.$$.fragment,N),g=!1},d(N){N&&(h(t),h(a),h(n),h(r)),b&&b.d(N),~e&&L[e].d(N),~i&&I[i].d(N),he(f),F&&F.d(N),he(_)}}}function Vl(l,t,e){let s,a,i,o,n,r,f,d,m;Fe(l,Pl,C=>e(13,s=C)),Fe(l,it,C=>e(14,a=C)),Fe(l,wt,C=>e(15,i=C)),Fe(l,mt,C=>e(5,o=C)),Fe(l,Ge,C=>e(6,n=C)),Fe(l,yt,C=>e(16,r=C)),Fe(l,$s,C=>e(17,f=C)),Fe(l,Mt,C=>e(18,d=C)),Fe(l,kt,C=>e(19,m=C));let{$$slots:_={},$$scope:g}=t;const b=new Ts(Ns.PUBLIC_PB_URI);let w=!1,L=!1,P=!1,$=!1,I=!1;ct(()=>(Ot(b).then(C=>be(kt,m=C,m)),o&&Dt(o.id).then(C=>be(it,a=C,a)),b.collection("users").subscribe("*",async C=>{try{be(wt,i=await Ps(),i),be(kt,m=await Ot(b),m)}catch(D){console.log(D)}}),b.collection("posts").subscribe("*",async C=>{be(Mt,d=await Ls(),d)}),b.collection("chats").subscribe("*",async C=>{o.id===i.id?be(yt,r=(await Ut(i.id,f)).chats,r):be(yt,r=(await Ut(o.id,i.id)).chats,r),be(it,a=await Dt(o.id),a)}),()=>{b.collection("users").unsubscribe("*"),b.collection("posts").unsubscribe("*"),b.collection("chats").unsubscribe("*")}));const q=async C=>{var D;be(Ge,n=null,n),(D=C.detail)!=null&&D.success&&(e(0,w=!0),setTimeout(()=>e(0,w=!1),5e3))},S=async C=>{var D;e(4,I=(D=C.detail)==null?void 0:D.password_reset),be(Ge,n=null,n)},F=async C=>{var D,R;(D=C.detail)!=null&&D.back_to_main&&be(Ge,n="login",n),e(1,L=!!((R=C.detail)!=null&&R.success)),setTimeout(()=>e(1,L=!1),5e3),e(4,I=!1)},N=async C=>{var D,R;be(Ge,n=null,n),(D=C.detail)!=null&&D.success&&((R=C.detail)!=null&&R.change_email?(e(3,$=!0),setTimeout(()=>e(3,$=!1),7e3)):(e(2,P=!0),setTimeout(()=>e(2,P=!1),5e3)),window.location.reload())};return be(mt,o=s.data.current_user,o),be(wt,i=s.data.admin,i),be(it,a=s.data.unread_chats,a),l.$$set=C=>{"$$scope"in C&&e(12,g=C.$$scope)},[w,L,P,$,I,o,n,q,S,F,N,_,g]}class Wl extends He{constructor(t){super(),ze(this,t,Vl,jl,je,{})}}export{Wl as component};
