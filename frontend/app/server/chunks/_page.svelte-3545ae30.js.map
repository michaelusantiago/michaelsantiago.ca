{"version":3,"file":"_page.svelte-3545ae30.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/chat/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, f as escape, k as null_to_empty, e as subscribe, i as set_store_value, d as add_attribute, h as add_styles, j as each, v as validate_component } from '../../../chunks/index.js';\nimport { i as send_to_id, u as user, j as chats, h as unreadChats, k as admin, l as users, m as client_timezone } from '../../../chunks/globalstore.js';\nimport 'devalue';\nimport { F as Fa, e as faCircle } from '../../../chunks/index3.js';\nimport PocketBase from 'pocketbase';\nimport { s as serializeNonPOJ } from '../../../chunks/utilities.js';\nimport { e as env } from '../../../chunks/env-public.js';\n\nconst Message_svelte_svelte_type_style_lang = '';\n\n/* src/lib/components/Message.svelte generated by Svelte v3.55.0 */\n\nconst css$1 = {\n\tcode: \".from.svelte-t93svn .message.svelte-t93svn,.to.svelte-t93svn .message.svelte-t93svn{color:black;padding:7px 15px ;margin:5px 0;max-width:48%;width:-moz-fit-content;width:fit-content}.from.svelte-t93svn .message .chat-date.svelte-t93svn,.to.svelte-t93svn .message .chat-date.svelte-t93svn{font-size:x-small}.from.svelte-t93svn .message.svelte-t93svn{border-top-left-radius:var(--message-border-radius);border-top-right-radius:var(--message-border-radius);border-bottom-left-radius:var(--message-border-radius);background-color:lightgray;justify-self:right;float:right}.from.svelte-t93svn .message .chat-date.svelte-t93svn{text-align:right}.to.svelte-t93svn .message.svelte-t93svn{border-top-left-radius:var(--message-border-radius);border-top-right-radius:var(--message-border-radius);border-bottom-right-radius:var(--message-border-radius);background-color:lightblue;justify-self:left}.to.svelte-t93svn .message .chat-date.svelte-t93svn{text-align:left}\",\n\tmap: null\n};\n\nconst Message = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n\tlet { source } = $$props;\n\tif ($$props.source === void 0 && $$bindings.source && source !== void 0) $$bindings.source(source);\n\t$$result.css.add(css$1);\n\n\treturn `<main><div class=\"${escape(null_to_empty(source), true) + \" svelte-t93svn\"}\"><div class=\"${\"message svelte-t93svn\"}\">${slots.message ? slots.message({}) : ``}\r\n            <p class=\"${\"chat-date svelte-t93svn\"}\">${slots[\"chat-date\"] ? slots[\"chat-date\"]({}) : ``}</p></div></div>\r\n</main>`;\n});\n\nconst _page_svelte_svelte_type_style_lang = '';\n\n/* src/routes/chat/+page.svelte generated by Svelte v3.55.0 */\n\nconst css = {\n\tcode: \"main.svelte-1s1zzmm.svelte-1s1zzmm{--message-border-radius:20px;display:flex;width:100%;-moz-column-gap:5px;column-gap:5px;height:70vh}.chat-container.svelte-1s1zzmm.svelte-1s1zzmm{flex:2.5;display:grid;grid-template-columns:1fr;grid-template-rows:auto 1fr auto auto auto auto;width:100%;overflow-y:auto}.chat-container.svelte-1s1zzmm .content.svelte-1s1zzmm{grid-column:1 / 1;grid-row:2 / 4;display:grid;grid-template-columns:none;grid-template-rows:1fr auto;overflow-y:auto;border:solid 0.2px #222;border-top-left-radius:7px;border-top-right-radius:7px;padding:5px 10px}.chat-container.svelte-1s1zzmm .content .messages-wrapper.svelte-1s1zzmm{display:grid}.chat-container.svelte-1s1zzmm .friend-is-typing.svelte-1s1zzmm{width:-moz-fit-content;width:fit-content;grid-column:1 / 1;grid-row:3 / 4;border-top-right-radius:15px;background-color:rgba(0, 0, 255, 0.801);padding:5px 10px;font-size:small;z-index:18}.chat-container.svelte-1s1zzmm .new-message.svelte-1s1zzmm{grid-column:1 / 1;grid-row:5 / 5;border:solid 0.2px #222;border-bottom-left-radius:7px;border-bottom-right-radius:7px;padding:10px;outline:none;resize:none}.chat-container.svelte-1s1zzmm .send-btn-wrapper.svelte-1s1zzmm{grid-column:1 / 1;grid-row:6 / 6;display:flex;align-items:center}.chat-container.svelte-1s1zzmm .send-btn-wrapper span.svelte-1s1zzmm{flex:2;padding-left:10px;font-weight:200;font-size:small}.chat-container.svelte-1s1zzmm .send-btn-wrapper .btn-send.svelte-1s1zzmm{background-color:green;border-radius:7px;text-transform:uppercase;float:right;padding:10px 26px;font-size:small;color:white;margin-top:2px;letter-spacing:1px}.chat-container.svelte-1s1zzmm .send-btn-wrapper .btn-send.svelte-1s1zzmm:hover{background-color:rgb(5, 168, 5)}.chat-container.svelte-1s1zzmm .send-btn-wrapper .btn-send.svelte-1s1zzmm:active{background-color:rgb(7, 204, 7)}.chat-container.svelte-1s1zzmm .send-btn-wrapper .btn-send.svelte-1s1zzmm:disabled{background-color:lightgray;color:darkgray}.friends-list.svelte-1s1zzmm.svelte-1s1zzmm{display:grid;grid-template-rows:auto 1fr;grid-row-gap:5px;row-gap:5px;flex:1;border:solid 0.2px #222;border-radius:7px;grid-template-columns:1fr}.friends-list.svelte-1s1zzmm .friends-list-wrapper.svelte-1s1zzmm{overflow-x:auto}.friends-list.svelte-1s1zzmm h3.svelte-1s1zzmm{padding:10px;border-top-left-radius:7px;border-top-right-radius:7px;background-color:whitesmoke}.friends-list.svelte-1s1zzmm ul.svelte-1s1zzmm{padding:10px;font-size:large}.friends-list.svelte-1s1zzmm ul li.svelte-1s1zzmm{border-radius:7px}.friends-list.svelte-1s1zzmm ul li button.svelte-1s1zzmm{padding:5px 10px;display:flex;align-items:center;gap:3px;width:100%;height:100%}.friends-list.svelte-1s1zzmm ul li button .new-messages.svelte-1s1zzmm{font-size:x-small;background-color:gold;color:black;padding:2px 7px;border-radius:10px}.friends-list.svelte-1s1zzmm ul li button.online.svelte-1s1zzmm{font-weight:bold}.friends-list.svelte-1s1zzmm ul li.active.svelte-1s1zzmm,.friends-list.svelte-1s1zzmm ul li.svelte-1s1zzmm:hover{background-color:rgba(102, 108, 104, 0.767);cursor:pointer;transition:background-color ease-out 0.3s}.friends-list.svelte-1s1zzmm ul li.svelte-1s1zzmm:active{background-color:rgba(112, 128, 144, 0.767);cursor:pointer;transition:background-color ease-out 0.3s}\",\n\tmap: null\n};\n\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n\tlet $user, $$unsubscribe_user;\n\tlet $chats, $$unsubscribe_chats;\n\tlet $send_to_id, $$unsubscribe_send_to_id;\n\tlet $unreadChats, $$unsubscribe_unreadChats;\n\tlet $admin, $$unsubscribe_admin;\n\tlet $users, $$unsubscribe_users;\n\tlet $client_timezone, $$unsubscribe_client_timezone;\n\t$$unsubscribe_user = subscribe(user, value => $user = value);\n\t$$unsubscribe_chats = subscribe(chats, value => $chats = value);\n\t$$unsubscribe_send_to_id = subscribe(send_to_id, value => $send_to_id = value);\n\t$$unsubscribe_unreadChats = subscribe(unreadChats, value => $unreadChats = value);\n\t$$unsubscribe_admin = subscribe(admin, value => $admin = value);\n\t$$unsubscribe_users = subscribe(users, value => $users = value);\n\t$$unsubscribe_client_timezone = subscribe(client_timezone, value => $client_timezone = value);\n\tlet { data } = $$props;\n\tset_store_value(send_to_id, $send_to_id = $user?.role == 1 ? $admin?.id : null, $send_to_id);\n\tlet message_content;\n\tlet message;\n\tlet sendMessageBtn;\n\tlet myFriend = null;\n\tlet me_is_typing = false;\n\tlet friend_is_typing = false;\n\tconst pb = new PocketBase(env.PUBLIC_PB_URI);\n\n\tconst updateUserIsTyping = async is_typing => {\n\t\ttry {\n\t\t\tconst _user = await pb.collection(\"users\").getOne($user?.id);\n\t\t\tif (_user.is_typing !== is_typing) await pb.collection(\"users\").update($user?.id, { is_typing });\n\t\t} catch(error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\tconst updateAdminIsChattingTo = async friend_id => {\n\t\ttry {\n\t\t\tawait pb.collection(\"users\").update($admin.id, { is_chatting_to: friend_id });\n\t\t} catch(error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\tconst updateChatRead = async (friend_id, _user) => {\n\t\tlet _uc = null;\n\n\t\ttry {\n\t\t\tif (_user === 0) {\n\t\t\t\t_uc = serializeNonPOJ(await pb.collection(\"chats\").getFullList(0, {\n\t\t\t\t\tfilter: `(from = \"${friend_id}\") && (to = \"${$admin.id}\") && (read = false)`,\n\t\t\t\t\tsort: \"+created\"\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\t_uc = serializeNonPOJ(await pb.collection(\"chats\").getFullList(0, {\n\t\t\t\t\tfilter: `(from = \"${$admin.id}\") && (to = \"${$user.id}\") && (read = false)`,\n\t\t\t\t\tsort: \"+created\"\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\tfor (let chat of _uc) {\n\t\t\t\tawait pb.collection(\"chats\").update(chat.id, { read: true });\n\t\t\t}\n\t\t} catch(error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\tif ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n\t$$result.css.add(css);\n\n\t{\n\t\t{\n\t\t\tif ($send_to_id) {\n\t\t\t\tif (me_is_typing) updateUserIsTyping(me_is_typing);\n\n\t\t\t\tsetTimeout(\n\t\t\t\t\t() => {\n\t\t\t\t\t\tme_is_typing = false;\n\t\t\t\t\t\tupdateUserIsTyping(me_is_typing);\n\t\t\t\t\t},\n\t\t\t\t\t3e3\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t{\n\t\t{\n\t\t\tif ($send_to_id) {\n\t\t\t\tmyFriend = $users.find(_user => _user.id === $send_to_id);\n\n\t\t\t\tif ($user.role === 0) friend_is_typing = myFriend?.is_typing; else {\n\t\t\t\t\tif ($user?.id === $admin?.is_chatting_to) {\n\t\t\t\t\t\tfriend_is_typing = $admin.is_typing;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t{\n\t\t{\n\t\t\tif ($send_to_id) {\n\t\t\t\t(async () => {\n\t\t\t\t\tif ($user?.role == 0) await updateAdminIsChattingTo($send_to_id);\n\t\t\t\t\tif ($unreadChats[$send_to_id]) await updateChatRead($send_to_id, $user?.role);\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t}\n\n\t$$unsubscribe_user();\n\t$$unsubscribe_chats();\n\t$$unsubscribe_send_to_id();\n\t$$unsubscribe_unreadChats();\n\t$$unsubscribe_admin();\n\t$$unsubscribe_users();\n\t$$unsubscribe_client_timezone();\n\n\treturn `<main class=\"${\"svelte-1s1zzmm\"}\">\r\n    <form class=\"${\"chat-container svelte-1s1zzmm\"}\" method=\"${\"POST\"}\" action=\"${\"?/send\"}\">${$user.role === 0\n\t? `\r\n            ${myFriend\n\t\t? `<div class=\"${\"px-2 py-5 font-semibold\"}\">Me &amp; ${escape(myFriend?.first_name)}</div>`\n\t\t: `<div class=\"${\"px-2 py-5 text-red-500\"}\">Select a friend to chat</div>`}`\n\t: `<div class=\"${\"px-2 py-5 font-semibold\"}\">You &amp; ${escape($admin?.first_name)}</div>`}\r\n        <div class=\"${\"content svelte-1s1zzmm\"}\"${add_attribute(\"this\", message_content, 0)}><div></div> \r\n            <div class=\"${\"messages-wrapper svelte-1s1zzmm\"}\">${$chats\n\t? `${each($chats, chat => {\n\t\t\treturn `${validate_component(Message, \"Message\").$$render(\n\t\t\t\t$$result,\n\t\t\t\t{\n\t\t\t\t\tsource: data?.user.id === chat.from ? \"from\" : \"to\"\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t\t{\n\t\t\t\t\t\"chat-date\": () => {\n\t\t\t\t\t\treturn `<span slot=\"${\"chat-date\"}\" class=\"${\"svelte-1s1zzmm\"}\">${escape(new Date(chat.created).toLocaleString(\"en-us\", {\n\t\t\t\t\t\t\ttimeZone: $client_timezone,\n\t\t\t\t\t\t\tdateStyle: \"medium\",\n\t\t\t\t\t\t\ttimeStyle: \"long\"\n\t\t\t\t\t\t}))}\r\n                            </span>`;\n\t\t\t\t\t},\n\t\t\t\t\tmessage: () => {\n\t\t\t\t\t\treturn `<span slot=\"${\"message\"}\" class=\"${\"svelte-1s1zzmm\"}\">${escape(chat.message)}</span>`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)}`;\n\t\t})}`\n\t: ``}</div></div>\r\n        <div class=\"${\"friend-is-typing svelte-1s1zzmm\"}\"${add_styles({\n\t\t\"visibility\": friend_is_typing ? \"visible\" : \"hidden\"\n\t})}>${$user?.role === 0\n\t? `${escape(myFriend?.first_name)} is typing . . .`\n\t: `${escape($admin?.first_name)} is typing . . .`}</div>\r\n        <textarea class=\"${\"new-message svelte-1s1zzmm\"}\" name=\"${\"message\"}\" placeholder=\"${\"type your message here\"}\"${add_attribute(\"this\", message, 0)}></textarea>\r\n        <input name=\"${\"send_to_id\"}\" type=\"${\"text\"}\"${add_attribute(\"value\", $send_to_id, 0)} style=\"${\"display: none\"}\">\r\n        <div class=\"${\"send-btn-wrapper svelte-1s1zzmm\"}\"><span class=\"${\"svelte-1s1zzmm\"}\"></span>\r\n            <button ${\"disabled\" } class=\"${\"btn-send svelte-1s1zzmm\"}\"${add_attribute(\"this\", sendMessageBtn, 0)}>SEND</button></div></form>\r\n\r\n    \r\n    ${$user?.role == 0\n\t? `<div class=\"${\"friends-list svelte-1s1zzmm\"}\"><h3 class=\"${\"text-[#222] text-sm svelte-1s1zzmm\"}\">Friend&#39;s List</h3>\r\n            <div class=\"${\"friends-list-wrapper svelte-1s1zzmm\"}\"><ul class=\"${\"svelte-1s1zzmm\"}\">\r\n                    ${each($users, _user => {\n\t\t\tlet color = _user.is_online ? \"green\" : \"lightgray\",\n\t\t\t\tusers_full_name = `${_user.first_name} ${_user.last_name}`,\n\t\t\t\tpadded_users_full_name = users_full_name.length > 13\n\t\t\t\t? users_full_name.substring(0, 13).padEnd(16, \".\")\n\t\t\t\t: users_full_name;\n\n\t\t\treturn `\r\n                        \r\n                        \r\n                        <li${add_attribute(\"id\", _user.id, 0)} class=\"${[\"svelte-1s1zzmm\", _user.id === $send_to_id ? \"active\" : \"\"].join(' ').trim()}\"><form method=\"${\"POST\"}\" action=\"${\"?/get\"}\"><button class=\"${[\"svelte-1s1zzmm\", (_user?.is_online) ? \"online\" : \"\"].join(' ').trim()}\">${validate_component(Fa, \"Fa\").$$render(\n\t\t\t\t$$result,\n\t\t\t\t{\n\t\t\t\t\ticon: faCircle,\n\t\t\t\t\tscale: \"0.75\",\n\t\t\t\t\tstyle: `color: ${color}`\n\t\t\t\t},\n\t\t\t\t{},\n\t\t\t\t{}\n\t\t\t)}\r\n                                    <span${add_attribute(\"title\", users_full_name, 0)}>${escape(padded_users_full_name)}</span>\r\n                                    ${$unreadChats[_user.id] && $send_to_id !== _user.id\n\t\t\t? `<span class=\"${\"new-messages svelte-1s1zzmm\"}\">${escape($unreadChats[_user.id])}</span>`\n\t\t\t: ``}</button>\r\n                                <input name=\"${\"friend_id\"}\" type=\"${\"text\"}\"${add_attribute(\"value\", _user.id, 0)} style=\"${\"display: none\"}\"></form>\r\n                        </li>`;\n\t\t})}</ul></div></div>`\n\t: ``}\r\n</main>`;\n});\n\nexport { Page as default };\n"],"names":[],"mappings":"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"}